---
title: "【第8章】估算风险参数与融资成本：从Beta到WACC"
description: "把风险转化为折现率的完整流程——Beta估算、杠杆调整、债务成本和加权平均资本成本(WACC)的计算。"
author: "Ying"
date: "2025-12-08"
categories: [估值, Beta, 资本成本, WACC, 债务成本]
image: "images/ch8-cost-of-capital.png"
number-sections: true
toc: true
toc-depth: 3
format:
  html:
    code-fold: true
    code-tools: true
---

## 从一个问题开始

上一章我们学会了如何估算无风险利率和股权风险溢价——这是所有公司共享的"市场层面"参数。但一个关键问题还没有回答：**同样是投资股票，为什么投资者对苹果要求10%的回报，对特斯拉却要求15%？**

答案就在于**公司层面的风险参数**：Beta。

更广泛地说，本章要回答的问题是：给定一家公司的业务特征、资本结构和信用状况，我们如何系统性地估算它的**股权成本**（Cost of Equity）、**债务成本**（Cost of Debt），并最终计算出**加权平均资本成本**（WACC）？

这不仅仅是一个技术问题。折现率的选择直接决定了估值结果——差1%的折现率，可能意味着估值差20%。本章将详细拆解这个看似简单、实则充满陷阱的计算过程。

::: {.callout-important}
## 本章的核心公式

$$
\text{股权成本} = R_f + \beta \times ERP
$$

$$
\text{债务成本} = (R_f + \text{违约利差}) \times (1 - \text{税率})
$$

$$
WACC = \frac{E}{V} \times R_e + \frac{D}{V} \times R_d \times (1-T)
$$

看起来简单，但每个参数的估算都有学问。
:::

## Beta：衡量公司相对于市场的风险

### 直觉：为什么需要Beta？

在CAPM模型中，投资者只关心**系统性风险**——无法通过分散化消除的风险。Beta就是衡量这种系统性风险的指标。

直观地理解：

- **Beta = 1**：股票与市场同涨同跌
- **Beta > 1**：股票波动比市场更剧烈（如科技股）
- **Beta < 1**：股票波动比市场更温和（如公用事业股）

但Beta到底怎么估算？有三种主要方法。

### 方法一：回归法（历史Beta）

最直观的方法是用历史数据做回归：

$$
R_{股票} = \alpha + \beta \times R_{市场} + \epsilon
$$

例如，用微软过去5年的月度收益率对标普500指数做回归，斜率就是Beta。

**微软2019-2023年的回归结果**

| 统计量 | 数值 | 含义 |
|--------|------|------|
| Beta（斜率） | 0.88 | 市场涨1%，微软平均涨0.88% |
| Alpha（截距） | 1.30% | 月度超额收益 |
| R² | 53.37% | 53%的波动来自市场风险 |
| 标准误 | 0.11 | Beta的不确定性 |

::: {.callout-warning}
## 回归Beta的三大问题

1. **标准误太大**：微软的Beta可能在0.66到1.10之间（95%置信区间），这个范围太宽了！
2. **历史不代表未来**：公司的业务结构、杠杆率都可能变化
3. **指数选择影响结果**：用S&P 500还是全球指数？日度还是月度数据？结果都不同

Damodaran的结论是：**回归Beta几乎总是太嘈杂或被估计选择扭曲**，不能单独依赖。
:::

### 方法二：基本面Beta（自下而上法）

Damodaran更推荐的方法是**自下而上估算Beta**（Bottom-up Beta）。核心思路是：

> Beta由公司的基本面决定，而不是由股价波动决定。

**Beta的三个决定因素**：

1. **业务类型**：周期性行业（汽车、房地产）Beta高，非周期性行业（食品、公用事业）Beta低
2. **经营杠杆**：固定成本占比高的公司，收入波动会被放大，Beta更高
3. **财务杠杆**：负债越多，股东承担的风险越大，Beta越高

**核心公式：杠杆Beta与无杠杆Beta的关系**

$$
\beta_L = \beta_U \times [1 + (1-t) \times (D/E)]
$$

其中：

- $\beta_L$：有杠杆的Beta（Levered Beta），即股票的Beta
- $\beta_U$：无杠杆的Beta（Unlevered Beta），反映纯粹的业务风险
- $t$：边际税率
- $D/E$：债务股权比

::: {.callout-note}
## 为什么财务杠杆会放大Beta？

假设一家公司的资产Beta是1.0。如果全部用股权融资，股东承担所有风险，股票Beta = 1.0。

但如果50%用债务融资，债权人优先获得偿付，股东承担的风险就更集中了。用公式计算（假设税率25%）：

$$
\beta_L = 1.0 \times [1 + (1-0.25) \times 1.0] = 1.75
$$

股东的Beta从1.0跳到1.75！这就是杠杆效应。
:::

### 自下而上Beta的估算步骤

**步骤1：识别公司的业务组成**

例如，微软有两大业务：软件（Windows、Office）和智能云（Azure）。

**步骤2：找到每个业务的可比公司，计算行业无杠杆Beta**

| 业务 | 可比公司数量 | 行业平均Beta | 行业平均D/E | 无杠杆Beta |
|------|-------------|-------------|-------------|-----------|
| 软件 | 351家 | 1.50 | 18% | 1.27 |
| 云服务 | 12家 | 1.00 | 20% | 0.85 |

**步骤3：按业务价值加权，计算公司的无杠杆Beta**

假设软件业务占微软价值的67%，云业务占33%：

$$
\beta_U^{微软} = 1.27 \times 0.67 + 0.85 \times 0.33 = 1.13
$$

**步骤4：根据公司自己的杠杆率，计算有杠杆Beta**

微软的D/E比率约为3.17%，税率25%：

$$
\beta_L^{微软} = 1.13 \times [1 + (1-0.25) \times 0.0317] = 1.16
$$

::: {.callout-tip}
## 自下而上Beta的四大优势

1. **标准误更小**：平均了多家公司的Beta，误差相互抵消
2. **可以反映业务变化**：如果公司刚收购新业务，可以立即调整
3. **可以反映杠杆变化**：使用当前而非历史平均的D/E比率
4. **适用于非上市公司**：不需要股价历史数据

实务中，Damodaran强烈推荐使用自下而上Beta而非回归Beta。
:::

### 案例：微软收购动视暴雪后的Beta变化

2022年，微软宣布以700亿美元收购游戏公司动视暴雪。这会如何影响Beta？

**收购前**：

| 公司 | 无杠杆Beta | 企业价值 |
|------|-----------|----------|
| 微软 | 1.13 | $3.04万亿 |
| 动视暴雪 | 0.87 | $522亿 |

**收购后的加权无杠杆Beta**：

$$
\beta_U^{合并} = 1.13 \times \frac{3.04}{3.09} + 0.87 \times \frac{0.052}{3.09} = 1.126
$$

由于微软的市值远大于动视暴雪，收购对Beta的影响很小。但如果微软收购的是市值相近的英伟达（约2万亿美元），Beta变化就会显著得多。

## 从Beta到股权成本

有了Beta，计算股权成本就很直接了：

$$
\text{股权成本} = R_f + \beta \times ERP
$$

**微软的股权成本（2024年4月）**：

| 参数 | 数值 | 来源 |
|------|------|------|
| 无风险利率 | 4.50% | 10年期美国国债 |
| Beta | 1.16 | 自下而上估算 |
| ERP | 5.50% | 基于收入地理分布加权 |
| **股权成本** | **10.89%** | 4.5% + 1.16 × 5.5% |

::: {.callout-note}
## 关于小公司溢价的争议

有人认为小公司的Beta被低估了，应该在股权成本上加一个"小公司溢价"（通常3%左右）。

Damodaran**反对**这种做法，理由是：
1. 如果我们的目标是发现市场错误定价，不应该一开始就假设市场是对的
2. 更好的做法是找出小公司风险更高的原因（如经营杠杆更高），然后直接调整Beta
3. 小公司溢价的标准误很大（约2%），可能根本不显著
4. 近几十年这个溢价已经消失了

因此，我们不建议在股权成本计算中加入小公司溢价。
:::

## 债务成本：违约风险的定价

### 债务成本的构成

债务成本比股权成本简单，因为它可以直接观察到（公司借钱的利率）。但我们关心的是**边际债务成本**——如果今天去借钱，利率是多少？

$$
\text{税前债务成本} = R_f + \text{违约利差}
$$

$$
\text{税后债务成本} = (R_f + \text{违约利差}) \times (1 - \text{税率})
$$

利息可以抵税，这是债务相对于股权的一个优势。

### 如何估算违约利差？

**情况1：公司有评级和交易中的债券**

直接用债券的到期收益率减去无风险利率。

**情况2：公司有评级但债券不活跃**

用评级对应的典型违约利差：

| 评级（标普） | 典型违约利差（2024年） |
|-------------|----------------------|
| AAA | 0.59% |
| AA | 0.70% |
| A | 1.07% |
| BBB | 1.47% |
| BB | 2.21% |
| B | 3.61% |
| CCC | 8.51% |

**情况3：公司没有评级**

用**合成评级**（Synthetic Rating）。最简单的方法是基于利息覆盖率：

$$
\text{利息覆盖率} = \frac{EBIT}{\text{利息费用}}
$$

| 利息覆盖率（大公司） | 合成评级 | 违约利差 |
|---------------------|----------|---------|
| > 8.5 | AAA | 0.59% |
| 6.5-8.5 | AA | 0.70% |
| 5.5-6.5 | A+ | 0.92% |
| 4.25-5.5 | A | 1.07% |
| 3.0-4.25 | A- | 1.21% |
| 2.5-3.0 | BBB | 1.47% |
| 2.25-2.5 | BB+ | 1.74% |
| 2.0-2.25 | BB | 2.21% |
| 1.75-2.0 | B+ | 3.14% |
| 1.5-1.75 | B | 3.61% |
| 1.25-1.5 | B- | 5.24% |
| < 1.25 | CCC及以下 | 8.51%+ |

::: {.callout-warning}
## 税收抵扣的前提条件

利息只有在公司有足够的应税收入时才能抵税。

如果一家公司持续亏损，它当年无法享受利息抵税的好处。在这种情况下，**税后债务成本 = 税前债务成本**。

只有当你预期公司未来会盈利时，才应该在未来年份的WACC中考虑税收抵扣。
:::

### 案例：微软的债务成本

微软的信用评级是AAA（最高级别），违约利差约0.59%：

$$
\text{税前债务成本} = 4.5\% + 0.59\% = 5.09\%
$$

$$
\text{税后债务成本} = 5.09\% \times (1 - 0.25) = 3.82\%
$$

### 新兴市场公司的债务成本

对于新兴市场公司，债务成本还需要考虑**国家违约利差**：

$$
\text{债务成本} = R_f + \text{国家违约利差} + \text{公司违约利差}
$$

例如，巴西航空工业公司（Embraer）的债务成本：

- 美国国债利率：3.8%
- 巴西主权违约利差：2.0%
- 公司违约利差（BBB评级）：1.5%
- 税前债务成本：3.8% + 2.0% + 1.5% = **7.3%**
- 税后债务成本（税率34%）：7.3% × (1-0.34) = **4.82%**

## 计算WACC：把所有部分组合在一起

### WACC公式

$$
WACC = \frac{E}{E+D} \times R_e + \frac{D}{E+D} \times R_d \times (1-T)
$$

其中：

- $E$：股权的**市场价值**
- $D$：债务的**市场价值**
- $R_e$：股权成本
- $R_d$：税前债务成本
- $T$：边际税率

### 关键问题一：什么算"债务"？

不是所有负债都算债务。我们只考虑**有息负债**：

✅ 包括：
- 短期借款
- 长期借款
- 债券
- 经营租赁（2019年后会计准则要求资本化）

❌ 不包括：
- 应付账款
- 应付工资
- 递延收入

::: {.callout-note}
## 经营租赁的处理

2019年之前，经营租赁被当作经营费用处理，不体现在资产负债表上。但从估值角度看，一份12年的租约和一笔12年的贷款没有本质区别——都是固定的未来支付义务。

2019年后，GAAP和IFRS都要求将租赁资本化，作为债务处理。但如果你分析的公司还没有采用新准则，需要手动将经营租赁折现成债务：

$$
\text{经营租赁的债务价值} = \sum_{t=1}^{n} \frac{\text{租赁支付}_t}{(1+r_d)^t}
$$

例如，微软2000年的经营租赁折现后约5.56亿美元，应加到债务总额中。
:::

### 关键问题二：用账面价值还是市场价值？

**必须用市场价值**。原因是：

1. **资本成本衡量的是今天融资的成本**：如果你今天发行股票或债券，是按市场价格发行的
2. **账面价值反映历史，市场价值反映现实**：一家公司的真实价值随时在变化，账面价值无法捕捉这种变化
3. **用账面价值不一定更保守**：有时账面负债率高于市场负债率，用账面值计算的WACC反而更低！

**如何估算债务的市场价值？**

大多数债务不像股票那样交易。一个近似方法是把全部债务当作一张债券来估值：

$$
\text{债务市场价值} = \frac{\text{利息费用}}{r_d} \times \left(1 - \frac{1}{(1+r_d)^n}\right) + \frac{\text{债务账面价值}}{(1+r_d)^n}
$$

其中 $r_d$ 是当前债务成本，$n$ 是债务的平均剩余期限。

### 案例：微软的WACC（2024年4月）

让我们把所有参数汇总起来：

**股权成本**：
- 无风险利率：4.50%
- Beta：1.16
- ERP：5.50%
- 股权成本：4.50% + 1.16 × 5.50% = **10.89%**

**债务成本**：
- 评级：AAA
- 税前债务成本：5.09%
- 税率：25%
- 税后债务成本：**3.82%**

**资本结构**（市场价值）：

| 项目 | 市场价值 | 权重 |
|------|----------|------|
| 股权 | $3.023万亿 | 96.93% |
| 债务 | $958亿 | 3.07% |
| 总计 | $3.119万亿 | 100% |

**WACC计算**：

$$
WACC = 10.89\% \times 0.9693 + 3.82\% \times 0.0307 = \textbf{10.65\%}
$$

::: {.callout-important}
## 微软的WACC为什么接近股权成本？

因为微软几乎没有债务！债务只占资本结构的3%，所以债务成本对WACC的影响很小。

相比之下，一家债务占50%的公司，其WACC会显著低于股权成本（因为债务成本低于股权成本，且利息可以抵税）。

这也解释了为什么有些公司会主动增加负债——适度的杠杆可以降低WACC，提高公司价值。但杠杆过高会增加破产风险，推高债务成本，反而得不偿失。
:::

### 案例：新兴市场公司的WACC（Embraer）

Embraer是巴西的航空制造商，我们来计算它的美元WACC：

**股权成本**：

- 无风险利率：3.8%
- 无杠杆Beta：0.75（航空航天行业）
- D/E比率：26.84%
- 有杠杆Beta：0.75 × [1 + (1-0.34) × 0.2684] = 0.88
- 成熟市场ERP：4.0%
- 巴西国家风险溢价：3.66%
- 股权成本：3.8% + 0.88 × (4.0% + 3.66%) = **10.54%**

**债务成本**：

- 合成评级：BBB（利息覆盖率2.99）
- 税后债务成本：**4.82%**（见前文计算）

**资本结构**（市场价值，百万BR）：

| 项目 | 市场价值 | 权重 |
|------|----------|------|
| 股权 | 12,729 | 81.36% |
| 债务 | 2,915 | 18.64% |
| 总计 | 15,644 | 100% |

**WACC计算**：

$$
WACC_{USD} = 10.54\% \times 0.8136 + 4.82\% \times 0.1864 = \textbf{9.48\%}
$$

如果要转换成巴西雷亚尔的名义WACC（假设巴西通胀6%，美国通胀2%）：

$$
WACC_{BRL} = (1 + 0.0948) \times \frac{1.06}{1.02} - 1 = \textbf{13.82\%}
$$

## 净债务与总债务的处理

在计算债务比率时，有两种做法：

1. **总债务法**：使用债务总额
2. **净债务法**：债务总额 - 现金余额

例如，一家公司有12.5亿美元债务和10亿美元现金，净债务只有2.5亿美元。

::: {.callout-warning}
## 何时使用净债务法？

净债务法隐含假设现金和债务的风险相似——这对于AAA级公司可能成立，但对于BB级公司就不成立了，因为这类公司的债务风险远高于现金。

**Damodaran的建议**：
- 对于大多数公司，使用**总债务法**更安全
- 如果使用净债务法，必须在整个估值过程中保持一致：
  - 用净债务比率计算Beta
  - 用净债务权重计算WACC
  - 最后不再加回现金

一般来说，净债务法会高估高风险公司的价值。
:::

## 本章总结

本章介绍了从风险参数到资本成本的完整计算流程：

1. **Beta估算**有三种方法：回归法、基本面法（自下而上）、会计Beta。Damodaran强烈推荐**自下而上法**，因为它更精确、更灵活

2. **Beta的三个决定因素**：业务类型（周期性）、经营杠杆（固定成本占比）、财务杠杆（负债率）

3. **无杠杆Beta与有杠杆Beta**的转换公式：$\beta_L = \beta_U \times [1 + (1-t)(D/E)]$

4. **债务成本**基于违约风险，可以通过信用评级或合成评级（利息覆盖率）来估算

5. **WACC**是股权成本和税后债务成本的加权平均，权重必须基于**市场价值**

6. **债务**应该包括所有有息负债和资本化的经营租赁

## 思考题

::: {.callout-note}
## 问题1
为什么Damodaran不推荐使用回归Beta？在什么情况下回归Beta可能是可接受的？
:::

::: {.callout-note}
## 问题2
一家公司正在考虑增加负债来回购股票。假设这会使D/E比率从20%增加到50%，税率为25%，原来的无杠杆Beta为0.8。计算杠杆调整前后的股票Beta和股权成本（假设ERP=5.5%，Rf=4.5%）。
:::

::: {.callout-note}
## 问题3
为什么债务市场价值可能与账面价值不同？在什么情况下这种差异会特别大？
:::

::: {.callout-note}
## 问题4
一家持续亏损的公司，其WACC计算有什么特殊之处？提示：考虑利息抵税的问题。
:::

::: {.callout-note}
## 问题5
假设你要估算一家非上市公司的WACC。与上市公司相比，哪些步骤会更困难？你会如何处理这些挑战？
:::
