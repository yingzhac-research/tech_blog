---
title: "市场有效性：定义、检验与证据（Damodaran 第 6 章）"
description: "市场价格到底反映了多少信息？这个问题的答案决定了你应该做主动投资还是被动投资，也决定了估值分析是否有意义。"
author: "Ying"
date: "2024-12-21"
lang: zh
categories: [金融, 投资, 估值]
tags: [Valuation, Damodaran, 市场有效性, EMH, 行为金融, 市场异象]
format:
  html:
    toc: true
    toc-depth: 3
    number-sections: true
    html-math-method: mathjax
---

## 从一个问题开始

假设你发现了一个"必胜"的投资策略：买入过去一年涨幅最大的股票，因为"强者恒强"。你兴奋地告诉朋友，朋友却说："如果这么简单就能赚钱，为什么大家不都这么做？"

这个反问触及了金融学中最根本的问题之一：**市场到底有多"聪明"？**

如果市场足够聪明，能够迅速消化所有可获得的信息，那么：
- 任何基于公开信息的投资策略都不可能持续获得超额收益
- 股票价格已经反映了真实价值，寻找"被低估"的股票是徒劳的
- 最好的策略就是买入并持有一个分散化的投资组合

但如果市场并不那么聪明呢？那就意味着：
- 存在系统性的定价错误
- 聪明的投资者可以通过分析获得超额收益
- 主动投资是有价值的

本章将深入探讨**有效市场假说（Efficient Market Hypothesis, EMH）**——这个自 1960 年代以来一直主导金融学思想的理论。我们将讨论：

- 什么是市场有效性？它有哪些不同的形式？
- 如何检验市场是否有效？
- 实证证据告诉我们什么？
- 那些著名的"市场异象"意味着什么？

## 什么是有效市场

### 核心定义

让我们先从直觉开始。一个"有效"的市场意味着什么？

想象一个理想的市场：任何新信息一出现，所有投资者立即知道并正确理解其含义，然后立刻根据这个信息调整他们的买卖决策。结果是，股票价格会瞬间调整到反映这个新信息的"正确"水平。

更正式地说，Fama（1970）给出的经典定义是：

::: {.callout-important}
## 有效市场的定义

在一个有效市场中，**价格总是"完全反映"（fully reflect）所有可获得的信息**。
:::

这个定义虽然简洁，但有几个关键的含义：

1. **价格调整是即时的**：新信息出现后，价格立即调整，不存在"滞后反应"
2. **价格调整是准确的**：价格调整到正确的水平，不存在"过度反应"或"反应不足"
3. **无法利用信息获利**：既然价格已经反映了信息，你就无法利用这个信息获得超额收益

### 有效市场的前提条件

市场要达到有效，需要满足一些条件。虽然这些条件在现实中可能无法完全满足，但有趣的是，市场有效性并不要求这些条件必须严格成立：

**条件一：交易成本为零**

在理想情况下，投资者可以免费交易。现实中交易成本确实存在，但只要交易成本不高到阻止有利可图的交易，市场仍然可以有效。

**条件二：信息对所有人免费可得**

理想情况下，所有投资者同时获得相同的信息。现实中，一些投资者可能比其他人更早获得信息。但只要有足够多的知情投资者参与交易，价格仍然能够反映信息。

**条件三：投资者对信息的解读一致**

理想情况下，所有投资者对信息的含义达成共识。现实中，投资者可能对同一信息有不同的解读。但只要平均而言解读是正确的，市场仍然可以有效。

::: {.callout-note}
## 边际投资者

市场有效性并不要求每个投资者都理性。它只要求**边际投资者（Marginal Investor）**——那些主动交易、影响价格的投资者——在整体上是理性的。如果"聪明钱"足够多且足够活跃，他们的交易行为就足以使价格趋向正确水平。
:::

### 三种有效性形式

Fama 将市场有效性分为三种形式，根据价格反映的信息范围不同：

**弱式有效（Weak Form Efficiency）**

价格反映了**所有历史价格和交易量信息**。

含义：
- 技术分析无效——你无法通过研究历史价格走势来预测未来价格
- 趋势跟踪策略（如"追涨杀跌"）不能获得超额收益
- 过去的收益率对未来没有预测能力

**半强式有效（Semi-Strong Form Efficiency）**

价格反映了**所有公开可得的信息**，包括历史价格、财务报表、新闻公告、分析师报告等。

含义：
- 基本面分析无效——你无法通过研究财务报表来找到被低估的股票
- 在信息公布后再交易已经太晚——价格已经调整
- 弱式有效是半强式有效的子集

**强式有效（Strong Form Efficiency）**

价格反映了**所有信息**，包括内部人才知道的私人信息。

含义：
- 即使是内部人也无法获得超额收益
- 这是最严格的有效性形式
- 半强式有效是强式有效的子集

这三种形式形成了一个嵌套结构：

$$
\text{强式有效} \supset \text{半强式有效} \supset \text{弱式有效}
$$

如果一个市场是强式有效的，它必然也是半强式和弱式有效的。反之，如果弱式有效被拒绝，更高形式的有效性也会被拒绝。

## 检验市场有效性的方法

### 联合假设问题

在讨论具体检验方法之前，我们必须认识到一个根本性的困难：**联合假设问题（Joint Hypothesis Problem）**。

当我们检验市场有效性时，我们实际上是在问：投资者是否能够获得"超额收益"？但什么是"超额收益"？它是相对于某个**基准**（Benchmark）的收益。这个基准通常来自于一个**资产定价模型**，比如 CAPM。

问题在于：如果我们发现某个策略获得了"超额收益"，可能有两种解释：

1. 市场无效：存在真正的定价错误可以被利用
2. 模型错误：我们用来计算超额收益的定价模型是错的

我们无法区分这两种情况，因为市场有效性和资产定价模型是**联合**被检验的。

::: {.callout-warning}
## 联合假设问题的含义

这意味着市场有效性假说**不能被严格地证伪**。每当我们发现一个"异象"，支持者可以说"那只是我们还没找到正确的风险模型"，而反对者可以说"这是市场无效的证据"。这种争论没有最终的仲裁者。
:::

### 事件研究（Event Study）

事件研究是检验半强式有效性的主要方法。它研究的是：当某个信息事件发生时，股票价格是如何反应的？

**基本思想**

1. 确定一个"事件"——例如盈利公告、股票分割、并购公告等
2. 定义"事件窗口"——事件前后的一段时间
3. 计算"超额收益"——实际收益减去预期收益
4. 分析超额收益的模式

**数学框架**

设事件发生在第 0 天。对于每只股票 $i$，我们计算其在第 $t$ 天的超额收益：

$$
AR_{it} = R_{it} - E[R_{it}]
$$

其中 $R_{it}$ 是实际收益，$E[R_{it}]$ 是根据某个模型（如市场模型或 CAPM）计算的预期收益。

对于多只股票，我们计算平均超额收益：

$$
\overline{AR}_t = \frac{1}{N} \sum_{i=1}^{N} AR_{it}
$$

为了捕捉事件的累积效应，我们计算累积平均超额收益（Cumulative Average Abnormal Return, CAAR）：

$$
CAAR_{(t_1, t_2)} = \sum_{t=t_1}^{t_2} \overline{AR}_t
$$

**判断标准**

根据有效市场假说，我们应该看到：

1. **事件发生时**（$t=0$）：应该有显著的超额收益（如果事件包含新信息）
2. **事件发生前**：不应该有超额收益（除非存在信息泄露）
3. **事件发生后**：不应该有超额收益（价格已经调整完毕）

如果我们看到事件后仍有持续的超额收益，说明价格调整是缓慢的——这与有效市场假说矛盾。

### 组合研究（Portfolio Study）

组合研究检验的是：基于某些可观察的特征构建投资组合，是否能获得超额收益？

**基本思想**

1. 选择一个可观察的特征——例如市盈率、市值、市净率等
2. 根据这个特征将股票分组——例如分成 5 或 10 个组
3. 计算每个组的收益率
4. 比较高特征值组和低特征值组的收益差异
5. 检验这个差异是否能被风险差异解释

**具体步骤**

以市盈率（P/E）效应为例：

1. 每年年初，按 P/E 比率将所有股票从低到高排序
2. 分成 10 个组（十分位）：最低 P/E 组、次低组、...、最高 P/E 组
3. 计算每个组在接下来一年的平均收益率
4. 比较最低 P/E 组和最高 P/E 组的收益差异
5. 使用 CAPM 或其他模型调整风险后，检验超额收益是否依然存在

**长期与短期**

一个重要的区分是：

- **短期组合研究**：检验策略在公告后短期内的表现
- **长期组合研究**：检验策略在持有一年或更长时间的表现

长期研究更容易受到联合假设问题的困扰，因为更难准确估计长期的预期收益。

## 弱式有效性的证据

弱式有效性的检验主要问：**过去的价格能否预测未来的价格？**

### 序列相关性检验

最直接的检验方法是计算收益率的序列相关性（Serial Correlation）：

$$
\rho = \text{Corr}(R_t, R_{t-1})
$$

如果 $\rho > 0$，说明存在"动量"——今天涨明天还会涨。
如果 $\rho < 0$，说明存在"反转"——今天涨明天会跌。
如果 $\rho = 0$，说明过去的收益对未来没有预测能力。

**实证结果**

早期研究（如 Fama 1965）发现，日收益率的序列相关性非常接近于零（通常在 $\pm 0.05$ 之间）。虽然统计上有时显著，但**经济意义不大**——考虑到交易成本，这么小的可预测性无法转化为利润。

::: {.callout-tip}
## 统计显著 vs 经济显著

在金融研究中，一个结果可能在统计上显著（p 值很小），但在经济上不显著（利润被交易成本吞噬）。对于投资者来说，真正重要的是经济显著性。
:::

### 游程检验（Runs Test）

游程检验不关心收益率的大小，只关心**方向**（上涨还是下跌）。

一个"游程"是连续的同方向变动。例如，序列 "+ + - - - + -"包含 4 个游程。

如果价格变动是随机的，我们可以计算预期的游程数量。如果实际游程数量显著少于预期，说明存在趋势（动量）；如果显著多于预期，说明存在过多的反转。

**实证结果**

大多数研究发现，实际游程数量与随机预期没有显著差异，支持弱式有效性。

### 过滤规则检验（Filter Rules）

过滤规则是一种简单的技术交易策略：

- 当价格上涨 $x\%$ 时买入
- 当价格下跌 $x\%$ 时卖出

如果存在可利用的趋势，这种策略应该能获得超额收益。

**实证结果**

Alexander（1961）和 Fama & Blume（1966）的研究发现：
- 小的过滤规则（如 1%）可以产生高于买入持有策略的收益
- 但考虑交易成本后，这些收益消失了
- 大的过滤规则表现不如买入持有策略

结论：过滤规则不能在扣除交易成本后产生超额收益，支持弱式有效性。

### 技术分析模式

一些研究检验了更复杂的技术分析模式，如头肩形态、双顶双底等。

结论是混合的：
- 一些简单的规则（如移动平均线交叉）在某些时期和市场似乎有效
- 但这种"有效性"往往在被发现后消失——可能是由于更多人使用导致套利消失
- 复杂的图表形态很难严格地统计检验

## 半强式有效性的证据

半强式有效性检验的核心问题是：**公开信息发布后，投资者能否获得超额收益？**

### 盈利公告的市场反应

盈利公告是最被广泛研究的信息事件之一。

**关键发现**

Ball & Brown（1968）的经典研究发现：

1. **公告日反应**：市场对盈利意外（实际盈利与预期的差异）反应迅速，大部分价格调整发生在公告日
2. **公告前漂移**：在公告前几周，价格就开始朝着公告方向移动——可能是信息泄露或分析师预测
3. **公告后漂移（PEAD）**：价格在公告后继续朝同一方向漂移约 60 天

第三个发现——公告后漂移（Post-Earnings Announcement Drift, PEAD）——是一个著名的异象，与有效市场假说矛盾。如果市场是有效的，所有信息应该在公告时立即反映在价格中。

### 股票分割

Fama, Fisher, Jensen & Roll（1969）研究了股票分割的市场反应：

- 股票分割前有正的超额收益
- 分割后没有超额收益
- 关键是分割本身并不创造价值——它只是改变了股票的面值

结论：如果分割后没有异常收益，说明市场在分割日已经完全反映了分割的信息。这支持有效市场假说。

### 会计信息披露

Render & Schwert（1972）研究了各种会计信息变更的市场反应：

- 市场能够"看穿"不影响现金流的会计变更
- 例如，从 FIFO 转为 LIFO 会计方法——虽然报告利润可能改变，但实际现金流不变
- 市场价格反映了真实的经济影响，而不是报告数字

这表明市场是"足够聪明"的，不会被表面的会计变动所欺骗。

### 并购公告

**收购方与被收购方的反应**

研究发现一个有趣的模式：

| 角色 | 公告日反应 | 解读 |
|------|-----------|------|
| 被收购方 | 大幅上涨（+20-30%） | 收购溢价 |
| 收购方（现金交易） | 小幅下跌 | 可能支付过高 |
| 收购方（股票交易） | 明显下跌 | 负面信号 |

为什么股票交易的收购方股价下跌更多？这涉及**信号传递**：使用股票支付可能表明管理层认为自己公司的股票被高估了。

## 市场异象

尽管早期研究总体支持有效市场假说，但从 1980 年代开始，研究者发现了越来越多的"异象"——与有效市场假说不一致的规律性收益模式。

### 规模效应（Size Effect）

**发现**

Banz（1981）发现：小市值股票的收益率系统性地高于大市值股票，即使调整了 CAPM 风险（Beta）后仍然如此。

**具体数据**

将股票按市值分成 10 组：
- 最小市值组的年化超额收益约为 5%
- 这个超额收益不能被 Beta 风险解释

**可能的解释**

1. **遗漏的风险因子**：小公司可能面临 CAPM 未捕捉到的风险（如流动性风险、财务困境风险）
2. **生存偏差**：小公司更容易破产或退市，数据库可能只包含"幸存者"
3. **真正的定价错误**：市场确实低估了小公司

::: {.callout-note}
## 规模效应的消退

有趣的是，规模效应在被发现并广泛传播后似乎减弱了。这可能是因为套利活动消除了定价错误，也可能是因为原始发现本身是数据挖掘的结果。
:::

### 市盈率效应（P/E Effect）

**发现**

Basu（1977, 1983）发现：低市盈率股票的收益率系统性地高于高市盈率股票。

**解读争议**

支持者认为这是市场无效的证据——投资者对高增长公司过于乐观，对低增长公司过于悲观。

反对者认为低 P/E 股票可能有更高的风险，只是这种风险没有被正确测量。

### 市净率效应（Price-to-Book Effect）

**发现**

Fama & French（1992）发现：低市净率（P/B）股票的收益率显著高于高市净率股票。这个效应甚至比规模效应更强。

**Fama-French 三因子模型**

为了解释规模效应和价值效应，Fama & French 提出了三因子模型：

$$
E[R_i] - R_f = \beta_i^{MKT}(E[R_m] - R_f) + \beta_i^{SMB} \cdot SMB + \beta_i^{HML} \cdot HML
$$

其中：
- $SMB$（Small Minus Big）：小市值组合减大市值组合的收益
- $HML$（High Minus Low）：高 B/M（低 P/B）组合减低 B/M 组合的收益

这个模型可以解释大部分的规模和价值"异象"——但问题是，SMB 和 HML 是否真的代表**风险**？还是仅仅是对已知异象的事后描述？

### 时间序列异象

除了横截面异象（不同股票之间的差异），还存在时间序列异象：

**一月效应（January Effect）**

股票收益在一月份异常高，特别是小市值股票。

可能的解释：
- 年末税收卖出压力导致价格下跌，一月份压力解除后反弹
- 年度奖金在一月份发放，推高需求
- 基金经理的"窗口装饰"行为

**周末效应（Weekend Effect）**

周五的收益通常为正，周一的收益通常为负。

这个异象难以解释。一些研究认为它与信息发布的时间有关（坏消息倾向于在周五收盘后发布）。

**假日效应（Holiday Effect）**

假日前的交易日收益率异常高。

## 专业投资者的表现

如果市场是有效的，专业投资者——那些花费大量资源进行研究和分析的人——应该无法持续跑赢市场。让我们看看证据。

### 内部人交易

**定义**：内部人包括公司高管、董事会成员和持股超过 10% 的大股东。

**实证发现**：

多项研究表明，内部人的交易确实能够预测未来股价：
- 当内部人大量买入时，股价倾向于上涨
- 当内部人大量卖出时，股价倾向于下跌

这并不令人惊讶——内部人拥有关于公司的私人信息。

**法律约束**：正因为如此，内部人交易受到严格的法律监管。

### 分析师推荐

**研究发现**：

分析师的买入/卖出推荐在短期内确实有预测能力：
- 买入推荐后股价倾向于上涨
- 卖出推荐后股价倾向于下跌

但这种预测能力：
1. 在推荐发布后迅速消失——说明信息很快被市场吸收
2. 扣除交易成本后可能不够显著
3. 存在"乐观偏差"——分析师倾向于给出更多买入推荐

### 共同基金表现

**核心问题**：专业管理的共同基金能否跑赢简单的被动指数基金？

**Jensen（1968）的经典研究**：

使用 CAPM 调整风险后，共同基金的平均 Alpha（超额收益）接近于零，甚至略为负值。

$$
\alpha = R_{fund} - [R_f + \beta(R_m - R_f)]
$$

研究发现：
- 约 70% 的基金 Alpha 为负
- 平均 Alpha 约为 -1.1%（考虑费用后）
- 过去的好业绩不能预测未来的好业绩

::: {.callout-important}
## 对投资者的含义

如果共同基金平均而言不能跑赢市场，支付高额管理费（通常 1-2%）就是不划算的。这解释了为什么低成本的被动指数基金（如 Vanguard 基金）在过去几十年中如此流行。
:::

**业绩持续性**

一个自然的问题是：即使平均表现不佳，是否存在"明星基金经理"能够持续跑赢市场？

研究表明：
- 业绩的持续性很弱
- 今年排名靠前的基金，明年的排名与今年几乎无关
- 唯一持续的是：排名靠后的基金倾向于持续表现不佳（可能由于高费用）

## 行为金融学的挑战

传统的有效市场假说建立在理性投资者的假设上。但心理学和行为经济学的研究表明，人类决策存在系统性的偏差。

### 过度自信（Overconfidence）

投资者倾向于高估自己的能力和信息的准确性。这导致：
- 过度交易——交易越多，扣除成本后收益越低
- 分散化不足——过于集中于自己"熟悉"的股票

### 锚定效应（Anchoring）

投资者的判断受到无关参照点的影响。例如：
- 股票的"历史高点"成为一个心理锚
- 分析师在调整盈利预测时调整幅度不够

### 损失厌恶（Loss Aversion）

人们对损失的厌恶程度约是对同等金额收益的喜爱程度的两倍。这导致：
- **处置效应**：投资者倾向于过早卖出盈利的股票，过晚卖出亏损的股票
- 这与理性的税收策略正好相反

### 套利的局限性

即使存在定价错误，**套利**也可能难以消除它们：

1. **基本面风险**：你可能是对的，但市场可能继续错下去
2. **噪音交易者风险**：非理性投资者的行为可能使错误定价更严重
3. **实施成本**：做空成本高，有些股票难以做空
4. **代理问题**：基金经理可能因为短期业绩压力无法等待长期套利

这些因素解释了为什么异象可能持续存在，而不会被套利消除。

## 对估值的含义

作为估值从业者，我们应该如何看待市场有效性？

### 务实的立场

完全的强式有效显然不成立——内部人确实能够获得超额收益。
完全的无效也不成立——随机选股的投资者并没有系统性地跑赢市场。

一个务实的立场是：

::: {.callout-tip}
## 市场有效性的实用观点

市场在**大部分时间对大部分股票**是相当有效的，但并非**总是对所有股票**都有效。市场可能在某些时候、某些股票上出现定价错误，特别是：

- 信息较少的小公司
- 经历重大变化的公司
- 市场情绪极端的时期
:::

### 对估值实践的含义

1. **不要轻易假设市场错了**：如果你的估值与市场价格相差甚远，首先应该问自己是否遗漏了什么，而不是假设市场是错的

2. **关注边际收益**：即使存在定价错误，发现它们的成本（研究时间、信息成本）也可能很高。要判断边际收益是否超过边际成本

3. **理解你的比较优势**：什么信息是你有而市场可能没有的？什么分析能力是你有而市场可能缺乏的？

4. **保持谦逊**：即使你的分析是对的，市场的错误也可能比你的耐心更持久

## 总结

::: {.callout-important}
## 核心要点

- **有效市场假说**：价格反映所有可获得的信息，分为弱式、半强式、强式三种形式
- **联合假设问题**：我们无法单独检验市场有效性——它总是与定价模型联合被检验
- **弱式有效性**：大量证据支持——短期价格变动接近随机游走
- **半强式有效性**：证据混合——事件研究大体支持，但存在一些异象
- **强式有效性**：被拒绝——内部人和某些分析师能够获得超额收益
- **市场异象**：规模效应、价值效应、动量效应等存在，但是否代表风险还是定价错误存在争议
- **行为金融**：提供了理解市场无效的心理学基础，但也面临如何解释套利消除机制失效的问题
:::

本章我们回答了开头提出的问题：市场到底有多"聪明"？答案是：**相当聪明，但不是完美的**。

对于估值实践者来说，关键的 takeaway 是：市场价格是一个有信息含量的基准，但不是神谕。你的估值分析应该与市场价格对话，而不是完全忽视它，也不是盲目接受它。

## 思考题

1. **检验设计**：如果你想检验某个新闻事件（如 FDA 药物批准）后市场的反应速度，你会如何设计事件研究？需要注意哪些问题？

2. **异象解读**：规模效应和价值效应可以被 Fama-French 三因子模型"解释"。但这是否意味着这些不再是"异象"？风险调整和行为偏差如何区分？

3. **套利局限**：假设你发现了一个明显的定价错误——某公司的收盘价格低于其持有现金的价值。为什么这种错误可能持续存在？你会面临什么风险？

4. **信息与价格**：在一个完全有效的市场中，既然价格已经反映了所有信息，为什么还有人愿意花钱去收集和分析信息？这是 Grossman-Stiglitz（1980）悖论。你怎么看？

5. **实践应用**：作为一个估值分析师，市场有效性假说对你的工作有什么影响？你会如何处理"你的估值与市场价格不一致"的情况？
