<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-Hans" xml:lang="zh-Hans"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ying">
<meta name="description" content="增长率是DCF估值中最重要却最难估计的输入之一。本章深入探讨历史增长、分析师预测和基本面增长三种方法，揭示增长的真正来源。">

<title>【第11章】增长率估计：DCF估值的核心驱动力 – Tech Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-597958c53c93a607afca12fd375c57ed.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-1b3db88def35042d172274863c1cdcf0.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-597958c53c93a607afca12fd375c57ed.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-ea2c01f27a86cd888be845a75ab84aaf.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-6ee47bd5d569ce80d002539aadcc850f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-ea2c01f27a86cd888be845a75ab84aaf.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "没有结果",
    "search-matching-documents-text": "匹配的文档",
    "search-copy-link-title": "复制搜索链接",
    "search-hide-matches-text": "隐藏其它匹配结果",
    "search-more-match-text": "更多匹配结果",
    "search-more-matches-text": "更多匹配结果",
    "search-clear-button-title": "清除",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "取消",
    "search-submit-button-title": "提交",
    "search-label": "搜索"
  }
}</script>
<!-- Force refresh if cache is stale -->

<script>

(function() {

  var SITE_VERSION = '2025-11-14-v2'; // Update this to force all users to refresh

  var stored = localStorage.getItem('site_version');

  if (stored !== SITE_VERSION) {

    localStorage.setItem('site_version', SITE_VERSION);

    if (stored !== null) {

      // Not first visit, force reload from server

      window.location.reload(true);

    }

  }

})();

</script>

<script>

// Default to dark scheme on first visit (no prior preference stored)

try {

  var key = 'quarto-color-scheme';

  if (window && window.localStorage && window.localStorage.getItem(key) === null) {

    window.localStorage.setItem(key, 'alternate');

  }

} catch (e) {

  // ignore storage errors (privacy mode, etc.)

}

</script>

<!-- Aggressive cache prevention for HTML pages -->

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">

<meta http-equiv="Pragma" content="no-cache">

<meta http-equiv="Expires" content="0">

<meta name="revisit-after" content="1 days">

<meta name="robots" content="noarchive">




  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Tech Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="搜索"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="展开或折叠导航栏" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../home.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts_en.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tags.html"> 
<span class="menu-text">Tags</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="切换深色模式"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">该页面内容</h2>
   
  <ul>
  <li><a href="#从一个问题开始" id="toc-从一个问题开始" class="nav-link active" data-scroll-target="#从一个问题开始"><span class="header-section-number">1</span> 从一个问题开始</a></li>
  <li><a href="#增长为什么如此重要" id="toc-增长为什么如此重要" class="nav-link" data-scroll-target="#增长为什么如此重要"><span class="header-section-number">2</span> 增长为什么如此重要？</a>
  <ul class="collapse">
  <li><a href="#财务资产负债表一个思考框架" id="toc-财务资产负债表一个思考框架" class="nav-link" data-scroll-target="#财务资产负债表一个思考框架"><span class="header-section-number">2.1</span> 财务资产负债表：一个思考框架</a></li>
  <li><a href="#增长资产比例的影响" id="toc-增长资产比例的影响" class="nav-link" data-scroll-target="#增长资产比例的影响"><span class="header-section-number">2.2</span> 增长资产比例的影响</a></li>
  <li><a href="#增长质量的三个维度" id="toc-增长质量的三个维度" class="nav-link" data-scroll-target="#增长质量的三个维度"><span class="header-section-number">2.3</span> 增长质量的三个维度</a></li>
  </ul></li>
  <li><a href="#历史增长过去能预测未来吗" id="toc-历史增长过去能预测未来吗" class="nav-link" data-scroll-target="#历史增长过去能预测未来吗"><span class="header-section-number">3</span> 历史增长：过去能预测未来吗？</a>
  <ul class="collapse">
  <li><a href="#历史增长的诱惑" id="toc-历史增长的诱惑" class="nav-link" data-scroll-target="#历史增长的诱惑"><span class="header-section-number">3.1</span> 历史增长的诱惑</a></li>
  <li><a href="#计算方法的选择" id="toc-计算方法的选择" class="nav-link" data-scroll-target="#计算方法的选择"><span class="header-section-number">3.2</span> 计算方法的选择</a></li>
  <li><a href="#时间序列模型arima-的应用" id="toc-时间序列模型arima-的应用" class="nav-link" data-scroll-target="#时间序列模型arima-的应用"><span class="header-section-number">3.3</span> 时间序列模型：ARIMA 的应用</a></li>
  <li><a href="#负盈利的处理" id="toc-负盈利的处理" class="nav-link" data-scroll-target="#负盈利的处理"><span class="header-section-number">3.4</span> 负盈利的处理</a></li>
  <li><a href="#higgledy-piggledy-growth增长的不可预测性" id="toc-higgledy-piggledy-growth增长的不可预测性" class="nav-link" data-scroll-target="#higgledy-piggledy-growth增长的不可预测性"><span class="header-section-number">3.5</span> Higgledy-Piggledy Growth：增长的不可预测性</a></li>
  <li><a href="#公司规模与增长的关系" id="toc-公司规模与增长的关系" class="nav-link" data-scroll-target="#公司规模与增长的关系"><span class="header-section-number">3.6</span> 公司规模与增长的关系</a></li>
  <li><a href="#历史增长的根本问题" id="toc-历史增长的根本问题" class="nav-link" data-scroll-target="#历史增长的根本问题"><span class="header-section-number">3.7</span> 历史增长的根本问题</a></li>
  <li><a href="#何时历史增长还有参考价值" id="toc-何时历史增长还有参考价值" class="nav-link" data-scroll-target="#何时历史增长还有参考价值"><span class="header-section-number">3.8</span> 何时历史增长还有参考价值？</a></li>
  </ul></li>
  <li><a href="#分析师预测专业意见的价值与局限" id="toc-分析师预测专业意见的价值与局限" class="nav-link" data-scroll-target="#分析师预测专业意见的价值与局限"><span class="header-section-number">4</span> 分析师预测：专业意见的价值与局限</a>
  <ul class="collapse">
  <li><a href="#分析师预测的优势" id="toc-分析师预测的优势" class="nav-link" data-scroll-target="#分析师预测的优势"><span class="header-section-number">4.1</span> 分析师预测的优势</a></li>
  <li><a href="#分析师预测的质量研究证据" id="toc-分析师预测的质量研究证据" class="nav-link" data-scroll-target="#分析师预测的质量研究证据"><span class="header-section-number">4.2</span> 分析师预测的质量：研究证据</a></li>
  <li><a href="#分析师预测的系统性偏差" id="toc-分析师预测的系统性偏差" class="nav-link" data-scroll-target="#分析师预测的系统性偏差"><span class="header-section-number">4.3</span> 分析师预测的系统性偏差</a></li>
  <li><a href="#管理层预测更好还是更糟" id="toc-管理层预测更好还是更糟" class="nav-link" data-scroll-target="#管理层预测更好还是更糟"><span class="header-section-number">4.4</span> 管理层预测：更好还是更糟？</a></li>
  </ul></li>
  <li><a href="#基本面增长理解增长的真正来源" id="toc-基本面增长理解增长的真正来源" class="nav-link" data-scroll-target="#基本面增长理解增长的真正来源"><span class="header-section-number">5</span> 基本面增长：理解增长的真正来源</a>
  <ul class="collapse">
  <li><a href="#增长的本质" id="toc-增长的本质" class="nav-link" data-scroll-target="#增长的本质"><span class="header-section-number">5.1</span> 增长的本质</a></li>
  <li><a href="#股权增长率" id="toc-股权增长率" class="nav-link" data-scroll-target="#股权增长率"><span class="header-section-number">5.2</span> 股权增长率</a></li>
  <li><a href="#公司增长率" id="toc-公司增长率" class="nav-link" data-scroll-target="#公司增长率"><span class="header-section-number">5.3</span> 公司增长率</a></li>
  <li><a href="#roe-与-roic-的关系杠杆的影响" id="toc-roe-与-roic-的关系杠杆的影响" class="nav-link" data-scroll-target="#roe-与-roic-的关系杠杆的影响"><span class="header-section-number">5.4</span> ROE 与 ROIC 的关系：杠杆的影响</a></li>
  <li><a href="#案例对比成熟公司-vs-成长公司" id="toc-案例对比成熟公司-vs-成长公司" class="nav-link" data-scroll-target="#案例对比成熟公司-vs-成长公司"><span class="header-section-number">5.5</span> 案例对比：成熟公司 vs 成长公司</a></li>
  <li><a href="#基本面增长的推导" id="toc-基本面增长的推导" class="nav-link" data-scroll-target="#基本面增长的推导"><span class="header-section-number">5.6</span> 基本面增长的推导</a></li>
  <li><a href="#案例塔塔汽车-tata-motors" id="toc-案例塔塔汽车-tata-motors" class="nav-link" data-scroll-target="#案例塔塔汽车-tata-motors"><span class="header-section-number">5.7</span> 案例：塔塔汽车 (Tata Motors)</a></li>
  </ul></li>
  <li><a href="#边际回报-vs-平均回报增长估计的陷阱" id="toc-边际回报-vs-平均回报增长估计的陷阱" class="nav-link" data-scroll-target="#边际回报-vs-平均回报增长估计的陷阱"><span class="header-section-number">6</span> 边际回报 vs 平均回报：增长估计的陷阱</a>
  <ul class="collapse">
  <li><a href="#一个关键假设" id="toc-一个关键假设" class="nav-link" data-scroll-target="#一个关键假设"><span class="header-section-number">6.1</span> 一个关键假设</a></li>
  <li><a href="#如何调整" id="toc-如何调整" class="nav-link" data-scroll-target="#如何调整"><span class="header-section-number">6.2</span> 如何调整</a></li>
  </ul></li>
  <li><a href="#自上而下的增长估计当基本面公式失效时" id="toc-自上而下的增长估计当基本面公式失效时" class="nav-link" data-scroll-target="#自上而下的增长估计当基本面公式失效时"><span class="header-section-number">7</span> 自上而下的增长估计：当基本面公式失效时</a>
  <ul class="collapse">
  <li><a href="#基本面增长公式的局限" id="toc-基本面增长公式的局限" class="nav-link" data-scroll-target="#基本面增长公式的局限"><span class="header-section-number">7.1</span> 基本面增长公式的局限</a></li>
  <li><a href="#自上而下估计的核心框架" id="toc-自上而下估计的核心框架" class="nav-link" data-scroll-target="#自上而下估计的核心框架"><span class="header-section-number">7.2</span> 自上而下估计的核心框架</a></li>
  <li><a href="#步骤一估计收入增长tamsam-框架" id="toc-步骤一估计收入增长tamsam-框架" class="nav-link" data-scroll-target="#步骤一估计收入增长tamsam-框架"><span class="header-section-number">7.3</span> 步骤一：估计收入增长（TAM/SAM 框架）</a></li>
  <li><a href="#步骤二估计利润率路径" id="toc-步骤二估计利润率路径" class="nav-link" data-scroll-target="#步骤二估计利润率路径"><span class="header-section-number">7.4</span> 步骤二：估计利润率路径</a></li>
  <li><a href="#步骤三估计再投资需求sales-to-capital-比率" id="toc-步骤三估计再投资需求sales-to-capital-比率" class="nav-link" data-scroll-target="#步骤三估计再投资需求sales-to-capital-比率"><span class="header-section-number">7.5</span> 步骤三：估计再投资需求（Sales-to-Capital 比率）</a></li>
  <li><a href="#完整案例amazon2000-年估值" id="toc-完整案例amazon2000-年估值" class="nav-link" data-scroll-target="#完整案例amazon2000-年估值"><span class="header-section-number">7.6</span> 完整案例：Amazon（2000 年估值）</a></li>
  <li><a href="#案例对比轻资产-vs-重资产公司" id="toc-案例对比轻资产-vs-重资产公司" class="nav-link" data-scroll-target="#案例对比轻资产-vs-重资产公司"><span class="header-section-number">7.7</span> 案例对比：轻资产 vs 重资产公司</a></li>
  </ul></li>
  <li><a href="#roe-与-roic-的分解深入理解投资效率" id="toc-roe-与-roic-的分解深入理解投资效率" class="nav-link" data-scroll-target="#roe-与-roic-的分解深入理解投资效率"><span class="header-section-number">8</span> ROE 与 ROIC 的分解：深入理解投资效率</a>
  <ul class="collapse">
  <li><a href="#roe-的杜邦分解" id="toc-roe-的杜邦分解" class="nav-link" data-scroll-target="#roe-的杜邦分解"><span class="header-section-number">8.1</span> ROE 的杜邦分解</a></li>
  <li><a href="#roic-与竞争优势" id="toc-roic-与竞争优势" class="nav-link" data-scroll-target="#roic-与竞争优势"><span class="header-section-number">8.2</span> ROIC 与竞争优势</a></li>
  <li><a href="#案例roic-的行业差异" id="toc-案例roic-的行业差异" class="nav-link" data-scroll-target="#案例roic-的行业差异"><span class="header-section-number">8.3</span> 案例：ROIC 的行业差异</a></li>
  </ul></li>
  <li><a href="#增长的持续性与衰减" id="toc-增长的持续性与衰减" class="nav-link" data-scroll-target="#增长的持续性与衰减"><span class="header-section-number">9</span> 增长的持续性与衰减</a>
  <ul class="collapse">
  <li><a href="#增长终将放缓" id="toc-增长终将放缓" class="nav-link" data-scroll-target="#增长终将放缓"><span class="header-section-number">9.1</span> 增长终将放缓</a></li>
  <li><a href="#增长衰减模型" id="toc-增长衰减模型" class="nav-link" data-scroll-target="#增长衰减模型"><span class="header-section-number">9.2</span> 增长衰减模型</a></li>
  <li><a href="#案例airbnb-ipo-估值2020-年" id="toc-案例airbnb-ipo-估值2020-年" class="nav-link" data-scroll-target="#案例airbnb-ipo-估值2020-年"><span class="header-section-number">9.3</span> 案例：Airbnb IPO 估值（2020 年）</a></li>
  </ul></li>
  <li><a href="#增长的定性因素超越数字" id="toc-增长的定性因素超越数字" class="nav-link" data-scroll-target="#增长的定性因素超越数字"><span class="header-section-number">10</span> 增长的定性因素：超越数字</a>
  <ul class="collapse">
  <li><a href="#为什么需要定性分析" id="toc-为什么需要定性分析" class="nav-link" data-scroll-target="#为什么需要定性分析"><span class="header-section-number">10.1</span> 为什么需要定性分析</a></li>
  <li><a href="#竞争优势的持久性" id="toc-竞争优势的持久性" class="nav-link" data-scroll-target="#竞争优势的持久性"><span class="header-section-number">10.2</span> 竞争优势的持久性</a></li>
  <li><a href="#管理层质量" id="toc-管理层质量" class="nav-link" data-scroll-target="#管理层质量"><span class="header-section-number">10.3</span> 管理层质量</a></li>
  <li><a href="#行业生命周期" id="toc-行业生命周期" class="nav-link" data-scroll-target="#行业生命周期"><span class="header-section-number">10.4</span> 行业生命周期</a></li>
  <li><a href="#宏观经济和监管环境" id="toc-宏观经济和监管环境" class="nav-link" data-scroll-target="#宏观经济和监管环境"><span class="header-section-number">10.5</span> 宏观经济和监管环境</a></li>
  <li><a href="#将定性因素纳入估值" id="toc-将定性因素纳入估值" class="nav-link" data-scroll-target="#将定性因素纳入估值"><span class="header-section-number">10.6</span> 将定性因素纳入估值</a></li>
  </ul></li>
  <li><a href="#总结" id="toc-总结" class="nav-link" data-scroll-target="#总结"><span class="header-section-number">11</span> 总结</a></li>
  <li><a href="#思考题" id="toc-思考题" class="nav-link" data-scroll-target="#思考题"><span class="header-section-number">12</span> 思考题</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">【第11章】增长率估计：DCF估值的核心驱动力</h1>
  <div class="quarto-categories">
    <div class="quarto-category">金融</div>
    <div class="quarto-category">投资</div>
    <div class="quarto-category">估值</div>
  </div>
  </div>

<div>
  <div class="description">
    增长率是DCF估值中最重要却最难估计的输入之一。本章深入探讨历史增长、分析师预测和基本面增长三种方法，揭示增长的真正来源。
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">作者</div>
    <div class="quarto-title-meta-contents">
             <p>Ying </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">发布于</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2025年12月11日</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="从一个问题开始" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="从一个问题开始"><span class="header-section-number">1</span> 从一个问题开始</h2>
<p>在 DCF 估值中，你需要预测公司未来的现金流。而现金流的增长取决于一个关键假设：<strong>增长率</strong>。</p>
<p>假设你要估值一家公司，当前自由现金流为 100 万美元。如果假设增长率为 5%，十年后的现金流约为 163 万美元；如果假设 15%，十年后将达到 405 万美元。同样的起点，不同的增长率假设，结果相差近 2.5 倍。</p>
<p>这就引出了估值中一个核心问题：<strong>我们应该如何估计增长率？</strong></p>
<p>更深层的问题是：增长从何而来？一家公司凭什么能够持续增长？是历史惯性、分析师的乐观预期，还是有更根本的驱动因素？</p>
<p>本章将系统探讨三种增长率估计方法：</p>
<ol type="1">
<li><strong>历史增长</strong>：从过去的表现推断未来</li>
<li><strong>外包增长</strong>：依赖分析师或管理层的预测</li>
<li><strong>基本面增长</strong>：从再投资和投资效率推导增长</li>
</ol>
<p>我们会发现，只有理解增长的<strong>内在机制</strong>，才能做出有意义的增长预测。</p>
</section>
<section id="增长为什么如此重要" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="增长为什么如此重要"><span class="header-section-number">2</span> 增长为什么如此重要？</h2>
<section id="财务资产负债表一个思考框架" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="财务资产负债表一个思考框架"><span class="header-section-number">2.1</span> 财务资产负债表：一个思考框架</h3>
<p>在深入讨论增长率估计方法之前，让我们先建立一个关键的概念框架：<strong>财务资产负债表（Financial Balance Sheet）</strong>。</p>
<p>传统的会计资产负债表是一个历史记录——它告诉你公司过去投资了多少。但对估值而言，我们需要一个<strong>前瞻性</strong>的视角：公司的价值从何而来？</p>
<p>答案可以分解为两部分：</p>
<p><span class="math display">\[
\text{公司价值} = \text{现有资产价值} + \text{增长资产价值}
\]</span></p>
<p><strong>现有资产（Assets in Place）</strong>：公司已经投资的资产所产生的现金流价值。这些资产已经存在，它们的现金流相对确定。</p>
<p><strong>增长资产（Growth Assets）</strong>：公司未来投资将产生的现金流价值。这些资产尚不存在，它们的价值取决于公司能否找到好的投资机会并有效执行。</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">注记</span>为什么这个分解很重要？
</div>
</div>
<div class="callout-body-container callout-body">
<p>这个分解揭示了一个关键事实：<strong>不同类型的公司，价值来源截然不同</strong>。</p>
<p>对于一家成熟的公用事业公司，可能 90% 的价值来自现有资产，只有 10% 来自增长预期。你可以相对确定地估计其价值，因为主要变量（现有资产的现金流）是可观测的。</p>
<p>但对于一家快速增长的科技公司，情况恰恰相反：可能只有 10% 的价值来自现有资产，90% 来自对未来增长的预期。这意味着你的估值几乎完全取决于增长假设——一个小的增长率变化会导致巨大的价值变化。</p>
</div>
</div>
</section>
<section id="增长资产比例的影响" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="增长资产比例的影响"><span class="header-section-number">2.2</span> 增长资产比例的影响</h3>
<p>让我们用一个具体例子来说明增长资产比例的重要性。</p>
<p>假设两家公司，市值都是 100 亿美元：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>公司</th>
<th>现有资产价值</th>
<th>增长资产价值</th>
<th>增长资产占比</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>成熟公司 A</td>
<td>80 亿</td>
<td>20 亿</td>
<td>20%</td>
</tr>
<tr class="even">
<td>成长公司 B</td>
<td>15 亿</td>
<td>85 亿</td>
<td>85%</td>
</tr>
</tbody>
</table>
<p>现在假设你的增长预期降低了 20%：</p>
<ul>
<li><strong>公司 A</strong>：增长资产从 20 亿降到 16 亿，总价值变为 96 亿（下降 4%）</li>
<li><strong>公司 B</strong>：增长资产从 85 亿降到 68 亿，总价值变为 83 亿（下降 17%）</li>
</ul>
<p>同样的增长预期变化，对高增长公司的估值影响是成熟公司的 <strong>4 倍以上</strong>。</p>
<p>这解释了为什么： 1. 高增长股票的波动性通常更大 2. 分析师对增长预期的分歧对高增长股票影响更大 3. 估值高增长公司时，增长率估计的准确性至关重要</p>
</section>
<section id="增长质量的三个维度" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="增长质量的三个维度"><span class="header-section-number">2.3</span> 增长质量的三个维度</h3>
<p>不是所有增长都是好的增长。在评估增长时，需要考虑三个关键维度：</p>
<p><strong>1. 增长的效率：ROIC vs 资本成本</strong></p>
<p>增长创造价值还是毁灭价值，取决于投资回报率：</p>
<p><span class="math display">\[
\text{增长创造的价值} = \text{再投资} \times (\text{ROIC} - \text{WACC})
\]</span></p>
<p>如果 ROIC &lt; WACC，增长实际上是在<strong>毁灭价值</strong>。公司每投资一元，回报低于资本成本，股东反而受损。</p>
<p><strong>2. 增长的可持续性</strong></p>
<p>高增长率能维持多久？影响因素包括： - 市场规模和渗透率 - 竞争壁垒的持久性 - 管理层执行能力</p>
<p><strong>3. 增长的可预测性</strong></p>
<p>增长预期的确定性如何？一般规律： - 收入增长比盈利增长更可预测 - 成熟行业比新兴行业更可预测 - 具有经常性收入（如订阅制）的公司比一次性交易更可预测</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">重要</span>本章的核心问题
</div>
</div>
<div class="callout-body-container callout-body">
<p>理解了增长的重要性后，本章要回答的核心问题是：</p>
<p><strong>我们如何估计一家公司的增长率？</strong></p>
<ul>
<li>是看过去的增长轨迹？</li>
<li>是听分析师和管理层的预测？</li>
<li>还是从公司的再投资决策和投资效率来推导？</li>
</ul>
<p>每种方法都有其价值和局限。让我们逐一深入探讨。</p>
</div>
</div>
</section>
</section>
<section id="历史增长过去能预测未来吗" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="历史增长过去能预测未来吗"><span class="header-section-number">3</span> 历史增长：过去能预测未来吗？</h2>
<section id="历史增长的诱惑" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="历史增长的诱惑"><span class="header-section-number">3.1</span> 历史增长的诱惑</h3>
<p>使用历史增长率来预测未来，是最直观也最常用的方法。逻辑很简单：如果一家公司过去五年每年增长 20%，未来可能也会如此。</p>
<p>但这个看似合理的假设隐藏着多重陷阱。</p>
</section>
<section id="计算方法的选择" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="计算方法的选择"><span class="header-section-number">3.2</span> 计算方法的选择</h3>
<p>即使是简单的”历史增长率”，计算方法不同也会得出截然不同的结果。</p>
<p><strong>算术平均 vs 几何平均</strong></p>
<p>假设一家公司的盈利序列如下：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>盈利</th>
<th>增长率</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>$100</td>
<td>-</td>
</tr>
<tr class="even">
<td>1</td>
<td>$150</td>
<td>50%</td>
</tr>
<tr class="odd">
<td>2</td>
<td>$120</td>
<td>-20%</td>
</tr>
<tr class="even">
<td>3</td>
<td>$180</td>
<td>50%</td>
</tr>
<tr class="odd">
<td>4</td>
<td>$144</td>
<td>-20%</td>
</tr>
</tbody>
</table>
<p>算术平均增长率：</p>
<p><span class="math display">\[
g_{arithmetic} = \frac{50\% + (-20\%) + 50\% + (-20\%)}{4} = 15\%
\]</span></p>
<p>几何平均增长率：</p>
<p><span class="math display">\[
g_{geometric} = \left(\frac{144}{100}\right)^{1/4} - 1 = 9.53\%
\]</span></p>
<p>哪个更准确？答案是<strong>几何平均</strong>。因为增长率有复合效应，算术平均会系统性地高估增长。</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">注记</span>为什么算术平均会高估？
</div>
</div>
<div class="callout-body-container callout-body">
<p>考虑极端情况：一只股票第一年涨 100%（从 100 到 200），第二年跌 50%（从 200 回到 100）。</p>
<ul>
<li>算术平均：<span class="math inline">\((100\% - 50\%) / 2 = 25\%\)</span></li>
<li>几何平均：<span class="math inline">\((100/100)^{1/2} - 1 = 0\%\)</span></li>
</ul>
<p>实际上你的钱一分没涨，但算术平均告诉你”平均每年涨 25%“。这就是为什么波动率越大，算术平均的高估越严重。</p>
</div>
</div>
<p><strong>线性回归 vs 对数线性回归</strong></p>
<p>另一种估计历史增长的方法是回归分析。假设我们有一系列历史盈利数据，可以用两种模型：</p>
<p><strong>线性模型</strong>：<span class="math inline">\(\text{Earnings}_t = a + b \cdot t\)</span></p>
<p>这里 <span class="math inline">\(b\)</span> 代表每年盈利的绝对增长额。增长率可以计算为 <span class="math inline">\(b\)</span> 除以某个基准盈利。</p>
<p><strong>对数线性模型</strong>：<span class="math inline">\(\ln(\text{Earnings}_t) = a + b \cdot t\)</span></p>
<p>这里 <span class="math inline">\(b\)</span> 直接就是增长率，因为对数差等于增长率。</p>
<p>让我们用 Cisco 的数据来说明（1991-2000 年）：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>方法</th>
<th>预测 2001 年盈利</th>
<th>年增长率</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>算术平均</td>
<td>-</td>
<td>64.45%</td>
</tr>
<tr class="even">
<td>几何平均</td>
<td>-</td>
<td>51.02%</td>
</tr>
<tr class="odd">
<td>线性回归</td>
<td>$12.18 亿</td>
<td>72.69%</td>
</tr>
<tr class="even">
<td>对数线性回归</td>
<td>$8.25 亿</td>
<td>63.28%</td>
</tr>
</tbody>
</table>
<p>实际 2001 年盈利：<strong>$10.38 亿</strong>（经济衰退影响）</p>
<p>对数线性模型的预测更接近实际，因为它假设的是<strong>百分比增长</strong>（符合复合增长的现实），而线性模型假设的是<strong>绝对增长</strong>（意味着随着基数变大，增长率会下降）。</p>
</section>
<section id="时间序列模型arima-的应用" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="时间序列模型arima-的应用"><span class="header-section-number">3.3</span> 时间序列模型：ARIMA 的应用</h3>
<p>对于更复杂的盈利模式，可以使用 <strong>ARIMA（自回归移动平均）模型</strong>。ARIMA 模型假设未来的盈利是过去盈利和过去预测误差的加权组合。</p>
<p><strong>ARIMA(p, d, q) 模型结构</strong>：</p>
<ul>
<li><strong>p</strong>：自回归项的阶数（过去多少期的盈利影响当前）</li>
<li><strong>d</strong>：差分阶数（使序列平稳所需的差分次数）</li>
<li><strong>q</strong>：移动平均项的阶数（过去多少期的误差影响当前）</li>
</ul>
<p>以一个简单的 AR(1) 模型为例：</p>
<p><span class="math display">\[
\text{EPS}_t = a + b \cdot \text{EPS}_{t-1} + \epsilon_t
\]</span></p>
<p>如果 <span class="math inline">\(b\)</span> 接近 1，意味着盈利有强烈的<strong>持续性</strong>——过去的盈利对未来有很强的预测力。如果 <span class="math inline">\(b\)</span> 接近 0，盈利更像<strong>随机游走</strong>，过去无法预测未来。</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">提示</span>ARIMA 模型的优缺点
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>优点</strong>： - 能够捕捉更复杂的盈利动态 - 可以处理季节性（SARIMA） - 提供预测的置信区间</p>
<p><strong>缺点</strong>： - 需要较长的历史数据（至少 5-10 年） - 对数据质量敏感 - 仍然是纯粹的统计方法，不考虑基本面 - 无法处理结构性变化（如公司转型）</p>
</div>
</div>
</section>
<section id="负盈利的处理" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="负盈利的处理"><span class="header-section-number">3.4</span> 负盈利的处理</h3>
<p>当公司盈利为负时，传统的增长率计算会失效。考虑以下例子：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>盈利</th>
<th>增长率计算</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>-$50</td>
<td>-</td>
</tr>
<tr class="even">
<td>1</td>
<td>-$25</td>
<td>?</td>
</tr>
<tr class="odd">
<td>2</td>
<td>$10</td>
<td>?</td>
</tr>
<tr class="even">
<td>3</td>
<td>$30</td>
<td>200%</td>
</tr>
</tbody>
</table>
<p>从 -$50 到 -<span class="math inline">\(25，损失减少了一半，但增长率是多少？\)</span>(−25 − (−50)) / (−50) = −50%$？这个数字没有意义。</p>
<p><strong>处理方法</strong>：</p>
<p><strong>方法一：使用绝对值变化</strong></p>
<p>关注损失的减少额，而非百分比变化： - 第 1 年：损失减少 $25（改善） - 第 2 年：盈利改善 $35（扭亏为盈） - 第 3 年：盈利增加 $20</p>
<p><strong>方法二：收入增长替代</strong></p>
<p>对于亏损公司，收入增长通常是更有意义的指标。假设公司亏损但收入在快速增长：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>收入</th>
<th>增长率</th>
<th>营业利润率</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>$100</td>
<td>-</td>
<td>-15%</td>
</tr>
<tr class="even">
<td>1</td>
<td>$150</td>
<td>50%</td>
<td>-8%</td>
</tr>
<tr class="odd">
<td>2</td>
<td>$200</td>
<td>33%</td>
<td>0%</td>
</tr>
<tr class="even">
<td>3</td>
<td>$250</td>
<td>25%</td>
<td>5%</td>
</tr>
</tbody>
</table>
<p>这种情况下，预测收入增长 + 利润率改善路径，比直接预测盈利增长更有意义。</p>
<p><strong>案例：特斯拉（Tesla）的盈利转型</strong></p>
<p>2016-2020 年间，特斯拉从持续亏损转为盈利：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>收入（亿美元）</th>
<th>净利润（亿美元）</th>
<th>净利润率</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2016</td>
<td>70</td>
<td>-6.8</td>
<td>-9.7%</td>
</tr>
<tr class="even">
<td>2017</td>
<td>117</td>
<td>-19.6</td>
<td>-16.8%</td>
</tr>
<tr class="odd">
<td>2018</td>
<td>215</td>
<td>-9.8</td>
<td>-4.6%</td>
</tr>
<tr class="even">
<td>2019</td>
<td>246</td>
<td>-8.6</td>
<td>-3.5%</td>
</tr>
<tr class="odd">
<td>2020</td>
<td>315</td>
<td>7.2</td>
<td>2.3%</td>
</tr>
</tbody>
</table>
<p>试图用净利润增长率来预测特斯拉的未来显然是荒谬的。更合理的方法是： 1. 预测收入增长（基于市场规模、市场份额） 2. 预测目标利润率（参考成熟汽车制造商） 3. 推导隐含的盈利路径</p>
</section>
<section id="higgledy-piggledy-growth增长的不可预测性" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="higgledy-piggledy-growth增长的不可预测性"><span class="header-section-number">3.5</span> Higgledy-Piggledy Growth：增长的不可预测性</h3>
<p>关于历史增长的预测价值，学术研究给出了令人沮丧的结论。</p>
<p><strong>经典研究：Little (1962) 和 Lintner-Glauber (1967)</strong></p>
<p>I.M.D. Little 在 1962 年首次系统研究了英国公司的盈利增长持续性，他将研究命名为 <strong>“Higgledy Piggledy Growth”（杂乱无章的增长）</strong>——这个标题本身就透露了结论。</p>
<p>研究发现：</p>
<ol type="1">
<li><strong>相关性几乎为零</strong>：一家公司过去的增长率与未来增长率的相关系数接近 0</li>
<li><strong>均值回归强烈</strong>：高增长公司往往会放缓，低增长公司往往会加速</li>
<li><strong>盈利更像随机游走</strong>：当期盈利是对下一期盈利的最佳预测</li>
</ol>
<p>Lintner 和 Glauber（1967）在美国市场复制了这项研究，结论一致。</p>
<p><strong>为什么增长难以预测？</strong></p>
<p>这个发现看似违反直觉——好公司不应该持续表现良好吗？但仔细思考，这是竞争市场的必然结果：</p>
<ol type="1">
<li><strong>竞争侵蚀</strong>：高增长吸引竞争者，最终压低增长率</li>
<li><strong>基数效应</strong>：公司越大，保持同样增长率需要的绝对增长越多</li>
<li><strong>均值回归</strong>：异常表现（无论好坏）往往不可持续</li>
<li><strong>随机冲击</strong>：宏观经济、技术变革、管理层更替等因素难以预测</li>
</ol>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">警告</span>实践意义
</div>
</div>
<div class="callout-body-container callout-body">
<p>这项研究的核心含义是：<strong>不要因为一家公司过去增长快，就假设它未来也会高速增长</strong>。</p>
<p>历史增长率可以作为参考，但绝不能作为唯一依据。你需要理解增长背后的<strong>驱动因素</strong>，判断这些因素是否能够持续。</p>
</div>
</div>
</section>
<section id="公司规模与增长的关系" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="公司规模与增长的关系"><span class="header-section-number">3.6</span> 公司规模与增长的关系</h3>
<p>另一个影响历史增长预测价值的因素是<strong>公司规模</strong>。</p>
<p><strong>大公司 vs 小公司</strong></p>
<p>研究表明，公司规模与未来增长率呈负相关：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>市值规模</th>
<th>平均年增长率</th>
<th>增长率标准差</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>超大型（&gt;$100B）</td>
<td>5-8%</td>
<td>较低</td>
</tr>
<tr class="even">
<td>大型（$10B-$100B）</td>
<td>8-12%</td>
<td>中等</td>
</tr>
<tr class="odd">
<td>中型（$2B-$10B）</td>
<td>10-15%</td>
<td>较高</td>
</tr>
<tr class="even">
<td>小型（&lt;$2B）</td>
<td>12-20%</td>
<td>很高</td>
</tr>
</tbody>
</table>
<p>这不是偶然的。大公司面临更多约束： - <strong>基数效应</strong>：苹果要增长 10% 意味着增加 $200B 收入，相当于很多整个公司的规模 - <strong>市场饱和</strong>：大公司往往已经占据了主要市场 - <strong>管理复杂性</strong>：规模越大，保持敏捷越困难</p>
<p><strong>对估值的含义</strong></p>
<p>当使用历史增长率时，需要考虑公司的规模变化： - 如果公司过去 5 年从小型成长为中型，历史增长率可能高估未来 - 反之，如果公司刚完成重组，历史增长率可能低估未来</p>
</section>
<section id="历史增长的根本问题" class="level3" data-number="3.7">
<h3 data-number="3.7" class="anchored" data-anchor-id="历史增长的根本问题"><span class="header-section-number">3.7</span> 历史增长的根本问题</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">警告</span>历史增长作为预测指标的局限
</div>
</div>
<div class="callout-body-container callout-body">
<p>研究表明，历史盈利增长与未来盈利增长之间的相关性<strong>几乎为零</strong>。Fama 和 French 的研究发现，公司的盈利序列更接近随机游走，而非稳定增长趋势。</p>
</div>
</div>
<p>这个发现令人震惊，但细想又合理。历史高增长往往来自：</p>
<ol type="1">
<li><strong>均值回归</strong>：异常高的增长率会回归到行业或经济平均水平</li>
<li><strong>规模效应</strong>：公司变大后，保持同样的增长率越来越难</li>
<li><strong>竞争侵蚀</strong>：高盈利吸引竞争，最终压低增长</li>
<li><strong>随机性</strong>：部分增长源于运气，不可持续</li>
</ol>
</section>
<section id="何时历史增长还有参考价值" class="level3" data-number="3.8">
<h3 data-number="3.8" class="anchored" data-anchor-id="何时历史增长还有参考价值"><span class="header-section-number">3.8</span> 何时历史增长还有参考价值？</h3>
<p>尽管有诸多局限，历史增长在以下情况仍有参考意义：</p>
<ul>
<li><strong>稳定成熟的公司</strong>：增长模式已经确立，波动较小</li>
<li><strong>时间跨度适中</strong>：太短（1-2 年）有噪音，太长（10+ 年）可能不再相关</li>
<li><strong>与基本面一致</strong>：历史增长能用再投资和回报率解释</li>
</ul>
</section>
</section>
<section id="分析师预测专业意见的价值与局限" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="分析师预测专业意见的价值与局限"><span class="header-section-number">4</span> 分析师预测：专业意见的价值与局限</h2>
<section id="分析师预测的优势" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="分析师预测的优势"><span class="header-section-number">4.1</span> 分析师预测的优势</h3>
<p>既然历史增长不可靠，我们能否依赖专业分析师的预测？</p>
<p>分析师预测有几个潜在优势：</p>
<ol type="1">
<li><strong>信息优势</strong>：分析师可以获取管理层指引、行业动态、宏观数据等</li>
<li><strong>时效性</strong>：预测会根据最新信息持续更新</li>
<li><strong>专业判断</strong>：可以综合考虑定性因素</li>
<li><strong>前瞻性</strong>：不像历史增长那样纯粹依赖过去</li>
</ol>
</section>
<section id="分析师预测的质量研究证据" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="分析师预测的质量研究证据"><span class="header-section-number">4.2</span> 分析师预测的质量：研究证据</h3>
<p>分析师预测真的比历史增长更准确吗？学术研究给出了混合的答案。</p>
<p><strong>Brown &amp; Rozeff (1978) 的经典研究</strong></p>
<p>这项研究比较了分析师预测与时间序列模型（ARIMA）的预测准确性：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>预测方法</th>
<th>平均预测误差</th>
<th>预测方向准确率</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>分析师预测</td>
<td>较低</td>
<td>较高</td>
</tr>
<tr class="even">
<td>ARIMA 模型</td>
<td>较高</td>
<td>较低</td>
</tr>
<tr class="odd">
<td>历史平均</td>
<td>最高</td>
<td>最低</td>
</tr>
</tbody>
</table>
<p>研究发现：<strong>分析师预测确实优于纯统计模型</strong>。原因在于分析师能够纳入非时间序列信息——如公司公告、行业变化、管理层更替等。</p>
<p><strong>但这个优势有多大？</strong></p>
<p>后续研究表明，分析师预测相对于时间序列模型的优势： - 在短期（1 年内）较为显著 - 在长期（3-5 年）几乎消失 - 在经济转折点时优势最大 - 在稳定期优势最小</p>
</section>
<section id="分析师预测的系统性偏差" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="分析师预测的系统性偏差"><span class="header-section-number">4.3</span> 分析师预测的系统性偏差</h3>
<p>然而，大量研究揭示了分析师预测的系统性问题：</p>
<p><strong>乐观偏差：量化证据</strong></p>
<p>分析师预测通常<strong>过于乐观</strong>。具体数据：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>研究/来源</th>
<th>样本期间</th>
<th>乐观偏差程度</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>美国市场研究</td>
<td>1980-2000</td>
<td>预测比实际高 2-3%</td>
</tr>
<tr class="even">
<td>I/B/E/S 数据</td>
<td>1985-2010</td>
<td>5 年期预测高估约 25%</td>
</tr>
<tr class="odd">
<td>新兴市场</td>
<td>1995-2015</td>
<td>偏差更大，约 5-6%</td>
</tr>
</tbody>
</table>
<p><strong>乐观偏差随预测期限增加</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>预测期限</th>
<th>平均乐观偏差</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>下季度</td>
<td>2-3%</td>
</tr>
<tr class="even">
<td>下年度</td>
<td>5-7%</td>
</tr>
<tr class="odd">
<td>5 年</td>
<td>20-30%</td>
</tr>
</tbody>
</table>
<p>这种乐观偏差源于多重因素：</p>
<ul>
<li><strong>利益冲突</strong>：卖方分析师的券商希望推动股票交易</li>
<li><strong>管理层关系</strong>：过于悲观可能失去信息来源</li>
<li><strong>选择偏差</strong>：分析师倾向于覆盖他们看好的公司</li>
<li><strong>激励不对称</strong>：乐观预测即使错误，也比悲观预测更容易被原谅</li>
</ul>
<p><strong>羊群效应</strong></p>
<p>分析师的预测往往<strong>高度相似</strong>。研究发现： - 分析师预测的相关系数高达 0.85-0.95 - 新信息发布后，预测会同向调整 - “一致预期”可能只是少数意见的重复，而非独立验证</p>
<p><strong>覆盖度偏差</strong></p>
<p>分析师覆盖在不同公司间分布极不均匀：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>公司类型</th>
<th>平均分析师数量</th>
<th>预测质量</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>大型（S&amp;P 500）</td>
<td>20-30</td>
<td>较高</td>
</tr>
<tr class="even">
<td>中型</td>
<td>5-10</td>
<td>中等</td>
</tr>
<tr class="odd">
<td>小型</td>
<td>0-3</td>
<td>较低</td>
</tr>
<tr class="even">
<td>微型</td>
<td>0-1</td>
<td>很低</td>
</tr>
</tbody>
</table>
<p>这意味着：对于小公司，分析师预测可能不可用或非常不可靠。</p>
</section>
<section id="管理层预测更好还是更糟" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="管理层预测更好还是更糟"><span class="header-section-number">4.4</span> 管理层预测：更好还是更糟？</h3>
<p>除了分析师，管理层自己也会发布业绩指引（Guidance）。这些预测是否更准确？</p>
<p><strong>管理层预测的特点</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>特点</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>信息优势</strong></td>
<td>管理层对自己公司的了解最深入</td>
</tr>
<tr class="even">
<td><strong>可信度问题</strong></td>
<td>管理层有动机美化前景</td>
</tr>
<tr class="odd">
<td><strong>法律约束</strong></td>
<td>虚假陈述可能面临诉讼</td>
</tr>
<tr class="even">
<td><strong>策略性行为</strong></td>
<td>可能故意低估以便”超预期”</td>
</tr>
</tbody>
</table>
<p><strong>研究发现</strong>：</p>
<ol type="1">
<li><strong>管理层预测的准确性参差不齐</strong>
<ul>
<li>对于经常发布指引的公司，准确性较高</li>
<li>对于偶尔发布指引的公司，往往是选择性披露（好消息才说）</li>
</ul></li>
<li><strong>“Beat and Raise” 文化</strong>
<ul>
<li>许多公司系统性地低估指引</li>
<li>目的是在公布实际业绩时”超预期”</li>
<li>这导致指引作为预测工具的价值下降</li>
</ul></li>
<li><strong>关注指引的修正方向</strong>
<ul>
<li>管理层上调指引通常是真实信号</li>
<li>下调指引可能只是冰山一角</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">提示</span>如何正确使用外部预测
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>使用分析师预测的建议</strong>：</p>
<ol type="1">
<li><p><strong>打折使用</strong>：对长期增长预测进行下调</p>
<ul>
<li>1 年期预测：可以较为信任</li>
<li>3 年期预测：下调 15-20%</li>
<li>5 年期预测：下调 25-30%</li>
</ul></li>
<li><p><strong>关注分歧</strong>：预测分散度高时要特别谨慎</p>
<ul>
<li>高度一致：可能是羊群效应</li>
<li>高度分歧：可能是真正的不确定性</li>
</ul></li>
<li><p><strong>短期为主</strong>：分析师对 1-2 年的预测相对可靠，长期预测不可信</p></li>
<li><p><strong>结合基本面</strong>：检验预测是否与公司再投资、竞争优势一致</p></li>
</ol>
<p><strong>使用管理层指引的建议</strong>：</p>
<ol type="1">
<li>关注公司历史上指引的准确性</li>
<li>对比管理层指引与分析师预测的差异</li>
<li>特别关注指引的<strong>修正方向</strong></li>
</ol>
</div>
</div>
</section>
</section>
<section id="基本面增长理解增长的真正来源" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="基本面增长理解增长的真正来源"><span class="header-section-number">5</span> 基本面增长：理解增长的真正来源</h2>
<section id="增长的本质" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="增长的本质"><span class="header-section-number">5.1</span> 增长的本质</h3>
<p>现在让我们回到一个根本问题：<strong>公司的增长从何而来？</strong></p>
<p>答案是：<strong>增长来自再投资</strong>。</p>
<p>一家公司要实现盈利增长，必须将部分盈利再投入业务——购买新设备、建设新工厂、开发新产品、扩张到新市场。如果公司把所有盈利都分配给股东，就没有资源支撑增长。</p>
<p>这个简单的洞察引出了基本面增长的核心公式。</p>
</section>
<section id="股权增长率" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="股权增长率"><span class="header-section-number">5.2</span> 股权增长率</h3>
<p>对于只关注股权价值的分析，盈利增长率可以分解为：</p>
<p><span class="math display">\[
g = \text{留存比率} \times \text{股权回报率(ROE)}
\]</span></p>
<p>其中： - <strong>留存比率（Retention Ratio）</strong> = 1 - 股息支付率 = 再投资回股权的比例 - <strong>ROE</strong> = 净利润 / 股东权益 = 投资于股权的回报率</p>
<p><strong>直觉理解</strong>：公司每年拿出一部分盈利（留存比率）进行再投资，每一元再投资能产生 ROE 的回报。两者相乘就是增长率。</p>
<p><strong>数值例子</strong>：</p>
<p>假设一家公司 ROE = 20%，留存比率 = 60%（即分红 40%）</p>
<p><span class="math display">\[
g = 60\% \times 20\% = 12\%
\]</span></p>
<p>这意味着在当前的再投资政策和投资效率下，净利润预期每年增长 12%。</p>
</section>
<section id="公司增长率" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="公司增长率"><span class="header-section-number">5.3</span> 公司增长率</h3>
<p>对于分析整个公司（包括债务和股权）的情况，我们使用类似的框架：</p>
<p><span class="math display">\[
g = \text{再投资率} \times \text{投入资本回报率(ROIC)}
\]</span></p>
<p>其中： - <strong>再投资率</strong> = (净资本支出 + 营运资本变化) / EBIT(1-t) - <strong>ROIC</strong> = EBIT(1-t) / 投入资本</p>
<p><strong>为什么要用 ROIC 而非 ROE？</strong></p>
<p>当我们分析整个公司而非只分析股权时，需要考虑所有资本（债务 + 股权）的投资效率。ROIC 衡量的是每一元投入资本（无论来自债权人还是股东）产生的税后营业利润。</p>
</section>
<section id="roe-与-roic-的关系杠杆的影响" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="roe-与-roic-的关系杠杆的影响"><span class="header-section-number">5.4</span> ROE 与 ROIC 的关系：杠杆的影响</h3>
<p>ROE 和 ROIC 不是独立的——它们通过财务杠杆联系在一起。这个关系可以用一个重要公式表示：</p>
<p><span class="math display">\[
\text{ROE} = \text{ROIC} + \frac{D}{E} \times \left[\text{ROIC} - i(1-t)\right]
\]</span></p>
<p>其中：</p>
<ul>
<li><span class="math inline">\(D/E\)</span> = 债务/股权比率</li>
<li><span class="math inline">\(i\)</span> = 税前债务成本（利率）</li>
<li><span class="math inline">\(t\)</span> = 税率</li>
<li><span class="math inline">\(i(1-t)\)</span> = 税后债务成本</li>
</ul>
<p><strong>这个公式揭示了什么？</strong></p>
<ol type="1">
<li><strong>如果 ROIC &gt; 税后债务成本</strong>：增加杠杆会提高 ROE</li>
<li><strong>如果 ROIC &lt; 税后债务成本</strong>：增加杠杆会降低 ROE</li>
<li><strong>如果 ROIC = 税后债务成本</strong>：杠杆对 ROE 没有影响</li>
</ol>
<p><strong>数值例子</strong>：</p>
<p>假设： - ROIC = 15% - 税前债务成本 = 6% - 税率 = 25% - 税后债务成本 = 6% × (1-25%) = 4.5%</p>
<p>不同杠杆水平下的 ROE：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>D/E 比率</th>
<th>ROE 计算</th>
<th>ROE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0（无杠杆）</td>
<td>15% + 0 × (15% - 4.5%)</td>
<td>15.00%</td>
</tr>
<tr class="even">
<td>0.5</td>
<td>15% + 0.5 × (15% - 4.5%)</td>
<td>20.25%</td>
</tr>
<tr class="odd">
<td>1.0</td>
<td>15% + 1.0 × (15% - 4.5%)</td>
<td>25.50%</td>
</tr>
<tr class="even">
<td>2.0</td>
<td>15% + 2.0 × (15% - 4.5%)</td>
<td>36.00%</td>
</tr>
</tbody>
</table>
<p>看起来增加杠杆总是好的？<strong>不是</strong>。</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">警告</span>杠杆的隐藏成本
</div>
</div>
<div class="callout-body-container callout-body">
<p>上面的分析忽略了两个关键因素：</p>
<ol type="1">
<li><p><strong>债务成本会随杠杆上升</strong>：当 D/E 从 0.5 上升到 2.0，银行不会继续以 6% 贷款给你。利率可能上升到 10% 甚至更高。</p></li>
<li><p><strong>财务风险增加</strong>：更高的杠杆意味着更大的破产风险。ROE 的波动性也会放大——好年景更好，坏年景更糟。</p></li>
</ol>
<p>因此，<strong>通过杠杆提高的 ROE 不能直接用于增长预测</strong>。我们需要的是可持续的、基于真实投资效率的增长。</p>
</div>
</div>
</section>
<section id="案例对比成熟公司-vs-成长公司" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="案例对比成熟公司-vs-成长公司"><span class="header-section-number">5.5</span> 案例对比：成熟公司 vs 成长公司</h3>
<p>让我们通过两个对比案例来理解基本面增长的应用。</p>
<p><strong>案例 1：联合爱迪生（Con Edison）—— 成熟公用事业公司</strong></p>
<p>Con Edison 是美国东北部最大的公用事业公司之一，业务稳定但增长缓慢。</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>指标</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ROE</td>
<td>10.0%</td>
</tr>
<tr class="even">
<td>派息率</td>
<td>70%</td>
</tr>
<tr class="odd">
<td>留存比率</td>
<td>30%</td>
</tr>
</tbody>
</table>
<p>预期增长率：</p>
<p><span class="math display">\[
g = 30\% \times 10\% = 3\%
\]</span></p>
<p>这个结果符合直觉：公用事业公司受监管，ROIC 接近资本成本，增长主要来自服务区域的人口和经济增长。3% 的增长率与美国长期 GDP 增长率相近。</p>
<p><strong>案例 2：可口可乐（Coca-Cola）—— 全球消费品龙头</strong></p>
<p>可口可乐拥有强大的品牌护城河和全球分销网络。</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>指标</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>净利润</td>
<td>$87.5 亿</td>
</tr>
<tr class="even">
<td>股东权益</td>
<td>$233.5 亿</td>
</tr>
<tr class="odd">
<td>ROE</td>
<td>37.5%</td>
</tr>
<tr class="even">
<td>派息率</td>
<td>55%</td>
</tr>
<tr class="odd">
<td>留存比率</td>
<td>45%</td>
</tr>
</tbody>
</table>
<p>预期增长率：</p>
<p><span class="math display">\[
g = 45\% \times 37.5\% = 16.9\%
\]</span></p>
<p>等等，这个增长率是否现实？</p>
<p><strong>批判性思考</strong>：可口可乐的 ROE 高达 37.5%，但这里面有多少是真实的投资效率，多少是财务杠杆的贡献？</p>
<p>让我们分解：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>指标</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>税后营业利润</td>
<td>$95 亿</td>
</tr>
<tr class="even">
<td>投入资本</td>
<td>$350 亿</td>
</tr>
<tr class="odd">
<td>ROIC</td>
<td>27.1%</td>
</tr>
<tr class="even">
<td>D/E 比率</td>
<td>0.5</td>
</tr>
<tr class="odd">
<td>税后债务成本</td>
<td>3%</td>
</tr>
</tbody>
</table>
<p>验证 ROE：</p>
<p><span class="math display">\[
\text{ROE} = 27.1\% + 0.5 \times (27.1\% - 3\%) = 27.1\% + 12.05\% = 39.15\%
\]</span></p>
<p>（与实际 ROE 37.5% 接近，差异来自简化假设）</p>
<p><strong>结论</strong>：可口可乐的高 ROE 部分来自杠杆。如果我们用 ROIC 和再投资率来估计营业利润增长：</p>
<p><span class="math display">\[
g_{\text{EBIT}} = \text{再投资率} \times \text{ROIC}
\]</span></p>
<p>假设再投资率 = 40%（公司将 40% 的税后营业利润用于净资本支出和营运资本投资）：</p>
<p><span class="math display">\[
g_{\text{EBIT}} = 40\% \times 27.1\% = 10.8\%
\]</span></p>
<p>这个增长率更加合理，反映了可口可乐作为成熟消费品公司的真实增长潜力。</p>
</section>
<section id="基本面增长的推导" class="level3" data-number="5.6">
<h3 data-number="5.6" class="anchored" data-anchor-id="基本面增长的推导"><span class="header-section-number">5.6</span> 基本面增长的推导</h3>
<p>让我们从数学上推导这个关系。</p>
<p><strong>起点</strong>：下一年的盈利 = 今年的盈利 + 新投资创造的盈利</p>
<p><span class="math display">\[
\text{EBIT}_{t+1} = \text{EBIT}_t + \text{Reinvestment}_t \times \text{ROIC}
\]</span></p>
<p>整理得：</p>
<p><span class="math display">\[
\frac{\text{EBIT}_{t+1} - \text{EBIT}_t}{\text{EBIT}_t} = \frac{\text{Reinvestment}_t}{\text{EBIT}_t} \times \text{ROIC}
\]</span></p>
<p>左边就是增长率 <span class="math inline">\(g\)</span>，右边第一项是再投资率：</p>
<p><span class="math display">\[
g = \text{再投资率} \times \text{ROIC}
\]</span></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">重要</span>核心洞察
</div>
</div>
<div class="callout-body-container callout-body">
<p>增长不是免费的。每一个百分点的增长都需要再投资来支撑，而再投资的效率（ROIC）决定了需要多少再投资才能实现目标增长。</p>
<ul>
<li>如果 ROIC = 20%，要实现 10% 的增长，需要 50% 的再投资率</li>
<li>如果 ROIC = 10%，要实现同样 10% 的增长，需要 100% 的再投资率（意味着分红为零）</li>
<li>如果 ROIC = 5%，要实现 10% 的增长在数学上不可能（除非增加杠杆）</li>
</ul>
</div>
</div>
</section>
<section id="案例塔塔汽车-tata-motors" class="level3" data-number="5.7">
<h3 data-number="5.7" class="anchored" data-anchor-id="案例塔塔汽车-tata-motors"><span class="header-section-number">5.7</span> 案例：塔塔汽车 (Tata Motors)</h3>
<p>让我们用具体数字来说明。以下是塔塔汽车 2010 年的数据：</p>
<ul>
<li>EBIT(1-t) = 16,704 百万卢比</li>
<li>净资本支出 = 20,167 百万卢比</li>
<li>营运资本变化 = 5,288 百万卢比</li>
<li>投入资本 = 93,776 百万卢比</li>
</ul>
<p><strong>计算再投资率</strong>：</p>
<p><span class="math display">\[
\text{再投资率} = \frac{20,167 + 5,288}{16,704} = 152.32\%
\]</span></p>
<p><strong>计算 ROIC</strong>：</p>
<p><span class="math display">\[
\text{ROIC} = \frac{16,704}{93,776} = 17.81\%
\]</span></p>
<p><strong>计算预期增长率</strong>：</p>
<p><span class="math display">\[
g = 152.32\% \times 17.81\% = 27.13\%
\]</span></p>
<p>这个计算告诉我们，如果塔塔汽车能够维持当前的再投资水平和投资效率，其营业利润预期增长约 27%。</p>
<p>当然，这个增长率可能无法永续——高再投资率难以长期维持，高 ROIC 会吸引竞争。</p>
</section>
</section>
<section id="边际回报-vs-平均回报增长估计的陷阱" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="边际回报-vs-平均回报增长估计的陷阱"><span class="header-section-number">6</span> 边际回报 vs 平均回报：增长估计的陷阱</h2>
<section id="一个关键假设" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="一个关键假设"><span class="header-section-number">6.1</span> 一个关键假设</h3>
<p>基本面增长公式有一个隐含假设：<strong>新投资的回报率等于现有资产的回报率</strong>。</p>
<p>但现实中，边际投资（Marginal Investment）的回报率往往与平均回报率（Average Return）不同。</p>
<p><strong>边际回报低于平均回报的情况</strong>：</p>
<ul>
<li>公司已经开发了最好的机会，剩下的都是次优项目</li>
<li>市场已经饱和，新投资只能蚕食现有业务</li>
<li>管理层能力有限，难以同时管理更多项目</li>
</ul>
<p><strong>边际回报高于平均回报的情况</strong>：</p>
<ul>
<li>公司刚刚获得新技术或新市场准入</li>
<li>规模效应尚未完全实现</li>
<li>历史包袱拖累了整体回报率</li>
</ul>
</section>
<section id="如何调整" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="如何调整"><span class="header-section-number">6.2</span> 如何调整</h3>
<p>如果你认为边际 ROIC 与平均 ROIC 不同，增长公式应调整为：</p>
<p><span class="math display">\[
g = \text{再投资率} \times \text{边际 ROIC}
\]</span></p>
<p><strong>案例：成熟银行</strong></p>
<p>一家大型银行的 ROE = 25%（历史积累），但新增贷款的 ROE 只有 12%（市场竞争激烈）。</p>
<p>如果留存比率 = 50%：</p>
<ul>
<li>用平均 ROE 计算：<span class="math inline">\(g = 50\% \times 25\% = 12.5\%\)</span></li>
<li>用边际 ROE 计算：<span class="math inline">\(g = 50\% \times 12\% = 6\%\)</span></li>
</ul>
<p>正确的预期增长率应该是 6%，而非 12.5%。</p>
</section>
</section>
<section id="自上而下的增长估计当基本面公式失效时" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="自上而下的增长估计当基本面公式失效时"><span class="header-section-number">7</span> 自上而下的增长估计：当基本面公式失效时</h2>
<section id="基本面增长公式的局限" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="基本面增长公式的局限"><span class="header-section-number">7.1</span> 基本面增长公式的局限</h3>
<p>基本面增长公式 <span class="math inline">\(g = \text{再投资率} \times \text{ROIC}\)</span> 有一个隐含假设：<strong>公司有正的盈利和正的投资回报</strong>。</p>
<p>但对于以下公司，这个假设不成立：</p>
<table class="caption-top table">
<colgroup>
<col style="width: 60%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>公司类型</th>
<th>问题</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>亏损公司</strong></td>
<td>ROIC 为负，公式给出负增长——但亏损公司也可能收入快速增长</td>
</tr>
<tr class="even">
<td><strong>转型公司</strong></td>
<td>历史 ROIC 不代表未来</td>
</tr>
<tr class="odd">
<td><strong>回购公司</strong></td>
<td>再投资为负，公式预测负增长——但可能是价值最大化行为</td>
</tr>
<tr class="even">
<td><strong>高增长初创</strong></td>
<td>当前盈利无法支撑观察到的增长</td>
</tr>
</tbody>
</table>
<p>对于这类公司，我们需要采用<strong>自上而下（Top-Down）</strong>的方法。</p>
</section>
<section id="自上而下估计的核心框架" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="自上而下估计的核心框架"><span class="header-section-number">7.2</span> 自上而下估计的核心框架</h3>
<p>自上而下方法从收入开始，而非从盈利开始。核心逻辑是：</p>
<p><span class="math display">\[
\text{收入增长} \xrightarrow{\text{利润率路径}} \text{盈利预测} \xrightarrow{\text{Sales/Capital}} \text{再投资需求}
\]</span></p>
<p><strong>为什么收入增长更容易预测？</strong></p>
<ol type="1">
<li>收入增长相对独立于当前盈利能力</li>
<li>可以锚定在市场规模和市场份额上</li>
<li>收入的波动性通常低于盈利</li>
</ol>
</section>
<section id="步骤一估计收入增长tamsam-框架" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="步骤一估计收入增长tamsam-框架"><span class="header-section-number">7.3</span> 步骤一：估计收入增长（TAM/SAM 框架）</h3>
<p><strong>TAM（Total Addressable Market）—— 总可触达市场</strong></p>
<p>这是公司在理想情况下能够服务的最大市场规模。</p>
<p><strong>SAM（Serviceable Addressable Market）—— 可服务市场</strong></p>
<p>考虑到地理、技术、竞争等因素，公司实际能够竞争的市场规模。</p>
<p><strong>SOM（Serviceable Obtainable Market）—— 可获取市场份额</strong></p>
<p>公司在 SAM 中能够实际获得的份额。</p>
<p><strong>案例：Airbnb IPO（2020 年）</strong></p>
<p>估计 Airbnb 的收入增长潜力：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>市场层级</th>
<th>规模估计</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TAM：全球旅游市场</td>
<td>~$5.5 万亿</td>
<td>包括住宿、交通、活动</td>
</tr>
<tr class="even">
<td>SAM：短租住宿市场</td>
<td>~$1.2 万亿</td>
<td>酒店 + 短租</td>
</tr>
<tr class="odd">
<td>当前收入</td>
<td>~$50 亿</td>
<td>2019 年</td>
</tr>
<tr class="even">
<td>隐含市场份额</td>
<td>~0.4%</td>
<td>巨大增长空间</td>
</tr>
</tbody>
</table>
<p>收入增长路径假设：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>收入（亿美元）</th>
<th>年增长率</th>
<th>市场份额</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0（2020）</td>
<td>34</td>
<td>-</td>
<td>0.3%（COVID 影响）</td>
</tr>
<tr class="even">
<td>1</td>
<td>50</td>
<td>47%</td>
<td>0.4%</td>
</tr>
<tr class="odd">
<td>2</td>
<td>70</td>
<td>40%</td>
<td>0.6%</td>
</tr>
<tr class="even">
<td>3</td>
<td>95</td>
<td>36%</td>
<td>0.8%</td>
</tr>
<tr class="odd">
<td>5</td>
<td>150</td>
<td>25%</td>
<td>1.2%</td>
</tr>
<tr class="even">
<td>10</td>
<td>300</td>
<td>15%</td>
<td>2.5%</td>
</tr>
</tbody>
</table>
</section>
<section id="步骤二估计利润率路径" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="步骤二估计利润率路径"><span class="header-section-number">7.4</span> 步骤二：估计利润率路径</h3>
<p><strong>当前利润率 → 目标利润率</strong></p>
<p>对于亏损或低利润公司，需要预测其成熟期的目标利润率。</p>
<p><strong>参考来源</strong>： 1. 同行业成熟公司的利润率 2. 公司自身声明的长期目标 3. 业务模型的经济学特征</p>
<p><strong>利润率改善的驱动因素</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>因素</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>规模经济</strong></td>
<td>固定成本摊薄</td>
</tr>
<tr class="even">
<td><strong>学习曲线</strong></td>
<td>运营效率提升</td>
</tr>
<tr class="odd">
<td><strong>定价能力</strong></td>
<td>网络效应、品牌建立后可提价</td>
</tr>
<tr class="even">
<td><strong>业务组合</strong></td>
<td>从低利润业务转向高利润业务</td>
</tr>
</tbody>
</table>
<p><strong>Airbnb 利润率路径</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>营业利润率</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0（2020）</td>
<td>-5%</td>
<td>COVID 影响，调整后</td>
</tr>
<tr class="even">
<td>1</td>
<td>5%</td>
<td>恢复期</td>
</tr>
<tr class="odd">
<td>2</td>
<td>10%</td>
<td>平台效率提升</td>
</tr>
<tr class="even">
<td>3</td>
<td>15%</td>
<td>规模效应显现</td>
</tr>
<tr class="odd">
<td>5</td>
<td>20%</td>
<td>接近成熟期</td>
</tr>
<tr class="even">
<td>10</td>
<td>25%</td>
<td>目标利润率（参考 Booking.com）</td>
</tr>
</tbody>
</table>
</section>
<section id="步骤三估计再投资需求sales-to-capital-比率" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="步骤三估计再投资需求sales-to-capital-比率"><span class="header-section-number">7.5</span> 步骤三：估计再投资需求（Sales-to-Capital 比率）</h3>
<p><strong>核心概念：Sales-to-Capital Ratio</strong></p>
<p><span class="math display">\[
\text{Sales/Capital} = \frac{\text{收入}}{\text{投入资本}}
\]</span></p>
<p>这个比率反映了公司的<strong>资本效率</strong>——每一美元投入资本能产生多少收入。</p>
<p><strong>使用方法</strong>：</p>
<p><span class="math display">\[
\text{再投资} = \frac{\Delta \text{Revenue}}{\text{Sales/Capital}}
\]</span></p>
<p><strong>直觉</strong>：如果 Sales/Capital = 2.5，意味着每增加 $2.50 的收入需要 $1 的资本投资。反过来，预测收入增长 $100，需要再投资 $40。</p>
<p><strong>不同行业的 Sales-to-Capital 比率</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>行业</th>
<th>典型 Sales/Capital</th>
<th>资本密集度</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>软件/SaaS</td>
<td>3.0 - 5.0</td>
<td>低（轻资产）</td>
</tr>
<tr class="even">
<td>零售</td>
<td>2.5 - 4.0</td>
<td>中低</td>
</tr>
<tr class="odd">
<td>制造业</td>
<td>1.5 - 2.5</td>
<td>中</td>
</tr>
<tr class="even">
<td>电信</td>
<td>0.8 - 1.5</td>
<td>高</td>
</tr>
<tr class="odd">
<td>公用事业</td>
<td>0.3 - 0.8</td>
<td>很高</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">注记</span>为什么 Sales/Capital 比 Reinvestment Rate 更可靠？
</div>
</div>
<div class="callout-body-container callout-body">
<p>对于高增长公司，再投资率（Reinvestment Rate = 再投资 / EBIT(1-t)）可能非常不稳定，甚至为负（当公司亏损时）。</p>
<p>但 Sales/Capital 通常更稳定，因为： 1. 它反映的是业务模型的结构性特征 2. 同行业公司的 Sales/Capital 通常在相似范围 3. 可以用行业数据作为参考和验证</p>
</div>
</div>
</section>
<section id="完整案例amazon2000-年估值" class="level3" data-number="7.6">
<h3 data-number="7.6" class="anchored" data-anchor-id="完整案例amazon2000-年估值"><span class="header-section-number">7.6</span> 完整案例：Amazon（2000 年估值）</h3>
<p>2000 年，亚马逊仍在亏损，股价经历了巨大波动。让我们看看如何用自上而下方法估值：</p>
<p><strong>第一步：收入增长路径</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>收入（亿美元）</th>
<th>年增长率</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>当前（2000）</td>
<td>27.9</td>
<td>-</td>
</tr>
<tr class="even">
<td>1</td>
<td>55.0</td>
<td>97%</td>
</tr>
<tr class="odd">
<td>2</td>
<td>90.0</td>
<td>64%</td>
</tr>
<tr class="even">
<td>3</td>
<td>135.0</td>
<td>50%</td>
</tr>
<tr class="odd">
<td>5</td>
<td>225.0</td>
<td>29%</td>
</tr>
<tr class="even">
<td>10</td>
<td>376.8</td>
<td>11%</td>
</tr>
</tbody>
</table>
<p><strong>第二步：利润率路径</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>营业利润率</th>
<th>税后营业利润</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>当前</td>
<td>-13.1%</td>
<td>-$3.7 亿</td>
</tr>
<tr class="even">
<td>1</td>
<td>-8.0%</td>
<td>-$4.4 亿</td>
</tr>
<tr class="odd">
<td>2</td>
<td>-2.0%</td>
<td>-$1.8 亿</td>
</tr>
<tr class="even">
<td>3</td>
<td>3.0%</td>
<td>$4.1 亿</td>
</tr>
<tr class="odd">
<td>5</td>
<td>7.0%</td>
<td>$15.8 亿</td>
</tr>
<tr class="even">
<td>10</td>
<td>10.0%</td>
<td>$37.7 亿</td>
</tr>
</tbody>
</table>
<p>目标利润率 10% 参考：成熟零售商（如沃尔玛）约 5-6%，但亚马逊有更高的品牌溢价和技术效率。</p>
<p><strong>第三步：再投资估计</strong></p>
<p>Sales/Capital = 2.98（基于历史数据）</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>收入增长</th>
<th>隐含再投资</th>
<th>ROIC 验证</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>$27.1 亿</td>
<td>$9.1 亿</td>
<td>无法计算（亏损）</td>
</tr>
<tr class="even">
<td>2</td>
<td>$35.0 亿</td>
<td>$11.7 亿</td>
<td>无法计算</td>
</tr>
<tr class="odd">
<td>3</td>
<td>$45.0 亿</td>
<td>$15.1 亿</td>
<td>27%</td>
</tr>
<tr class="even">
<td>5</td>
<td>$40.0 亿</td>
<td>$13.4 亿</td>
<td>118%</td>
</tr>
<tr class="odd">
<td>10</td>
<td>$15.2 亿</td>
<td>$5.1 亿</td>
<td>74%</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">警告</span>内部一致性检验
</div>
</div>
<div class="callout-body-container callout-body">
<p>注意第 5 年和第 10 年的隐含 ROIC 非常高（118% 和 74%）。这是因为：</p>
<ol type="1">
<li>公司成熟后，收入增长放缓</li>
<li>但利润率大幅提升</li>
<li>导致隐含 ROIC 急剧上升</li>
</ol>
<p>这是一个<strong>警示信号</strong>：如果隐含 ROIC 过高，可能意味着利润率假设过于乐观，或者收入增长假设过于保守。</p>
<p>好的自上而下估计应该产生<strong>合理的隐含 ROIC</strong>（通常 15-30%）。</p>
</div>
</div>
</section>
<section id="案例对比轻资产-vs-重资产公司" class="level3" data-number="7.7">
<h3 data-number="7.7" class="anchored" data-anchor-id="案例对比轻资产-vs-重资产公司"><span class="header-section-number">7.7</span> 案例对比：轻资产 vs 重资产公司</h3>
<p><strong>轻资产公司（高 Sales/Capital）</strong>：</p>
<p>以 Airbnb 为例： - Sales/Capital ≈ 2.0 - 2.5 - 每增加 $1 收入需要 $0.40-0.50 资本 - 再投资需求相对较低 - 但<strong>增长依赖于获客成本和品牌投资</strong>（这些通常计入费用而非资本）</p>
<p><strong>重资产公司（低 Sales/Capital）</strong>：</p>
<p>以特斯拉为例： - Sales/Capital ≈ 0.8 - 1.2（汽车制造） - 每增加 $1 收入需要 $0.80-1.25 资本 - 再投资需求巨大 - 增长需要大量工厂和生产线投资</p>
<p>这解释了为什么轻资产公司更容易保持高增长——它们的资本约束更小。</p>
</section>
</section>
<section id="roe-与-roic-的分解深入理解投资效率" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="roe-与-roic-的分解深入理解投资效率"><span class="header-section-number">8</span> ROE 与 ROIC 的分解：深入理解投资效率</h2>
<section id="roe-的杜邦分解" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="roe-的杜邦分解"><span class="header-section-number">8.1</span> ROE 的杜邦分解</h3>
<p>ROE 可以分解为三个组成部分：</p>
<p><span class="math display">\[
\text{ROE} = \frac{\text{Net Income}}{\text{Sales}} \times \frac{\text{Sales}}{\text{Assets}} \times \frac{\text{Assets}}{\text{Equity}}
\]</span></p>
<p>即：</p>
<p><span class="math display">\[
\text{ROE} = \text{净利润率} \times \text{资产周转率} \times \text{财务杠杆}
\]</span></p>
<p>这个分解揭示了提高 ROE 的三种途径：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>途径</th>
<th>方法</th>
<th>风险</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>提高净利润率</td>
<td>涨价、降本、优化产品组合</td>
<td>可能影响销量</td>
</tr>
<tr class="even">
<td>提高资产周转率</td>
<td>减少存货、加快应收回收</td>
<td>可能影响客户关系</td>
</tr>
<tr class="odd">
<td>增加杠杆</td>
<td>增加债务融资</td>
<td>增加财务风险</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">警告</span>杠杆的双刃剑
</div>
</div>
<div class="callout-body-container callout-body">
<p>通过增加杠杆来提高 ROE 是最”简单”的方法，但也是最危险的。高杠杆放大了业绩波动，在经济下行时可能导致破产。</p>
<p>更重要的是，<strong>杠杆不创造价值</strong>——它只是重新分配风险和收益。真正的价值创造来自提高营业效率（净利润率和资产周转率）。</p>
</div>
</div>
</section>
<section id="roic-与竞争优势" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="roic-与竞争优势"><span class="header-section-number">8.2</span> ROIC 与竞争优势</h3>
<p>ROIC 是衡量公司竞争优势的关键指标：</p>
<ul>
<li><strong>ROIC &gt; 资本成本（WACC）</strong>：公司在创造价值</li>
<li><strong>ROIC = WACC</strong>：公司刚好补偿投资者的机会成本</li>
<li><strong>ROIC &lt; WACC</strong>：公司在毁灭价值</li>
</ul>
<p>长期来看，竞争会驱使 ROIC 向 WACC 收敛。能够长期维持 ROIC &gt; WACC 的公司，通常拥有某种<strong>护城河（Moat）</strong>：</p>
<ul>
<li>品牌优势</li>
<li>网络效应</li>
<li>专利保护</li>
<li>规模经济</li>
<li>转换成本</li>
</ul>
</section>
<section id="案例roic-的行业差异" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="案例roic-的行业差异"><span class="header-section-number">8.3</span> 案例：ROIC 的行业差异</h3>
<p>不同行业的 ROIC 差异巨大，反映了不同的竞争格局：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>行业</th>
<th>平均 ROIC</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>软件</td>
<td>25-40%</td>
<td>轻资产、高边际利润</td>
</tr>
<tr class="even">
<td>消费品牌</td>
<td>15-25%</td>
<td>品牌溢价</td>
</tr>
<tr class="odd">
<td>零售</td>
<td>10-15%</td>
<td>高周转、低利润率</td>
</tr>
<tr class="even">
<td>公用事业</td>
<td>5-10%</td>
<td>受管制、资本密集</td>
</tr>
<tr class="odd">
<td>航空</td>
<td>0-8%</td>
<td>高竞争、周期性</td>
</tr>
</tbody>
</table>
<p>理解公司 ROIC 相对于行业和历史的位置，有助于判断未来 ROIC 是会维持还是回归。</p>
</section>
</section>
<section id="增长的持续性与衰减" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="增长的持续性与衰减"><span class="header-section-number">9</span> 增长的持续性与衰减</h2>
<section id="增长终将放缓" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="增长终将放缓"><span class="header-section-number">9.1</span> 增长终将放缓</h3>
<p>无论当前增长多快，所有公司最终都会趋向于经济增长率（或更低）。原因很简单：</p>
<ol type="1">
<li><strong>规模限制</strong>：没有公司能永远比经济增长更快，否则它最终会大于整个经济</li>
<li><strong>竞争侵蚀</strong>：高增长、高回报吸引竞争者进入</li>
<li><strong>管理瓶颈</strong>：规模越大，管理效率越难维持</li>
</ol>
</section>
<section id="增长衰减模型" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="增长衰减模型"><span class="header-section-number">9.2</span> 增长衰减模型</h3>
<p>在构建估值模型时，需要考虑增长的衰减。常见方法：</p>
<p><strong>线性衰减</strong>：每年增长率降低固定百分点</p>
<p><span class="math display">\[
g_t = g_0 - \frac{(g_0 - g_{\infty})}{n} \times t
\]</span></p>
<p><strong>几何衰减</strong>：每年增长率降低固定比例</p>
<p><span class="math display">\[
g_t = g_{\infty} + (g_0 - g_{\infty}) \times \lambda^t, \quad 0 &lt; \lambda &lt; 1
\]</span></p>
<p><strong>分阶段</strong>：高增长期、过渡期、稳定期</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>阶段</th>
<th>时长</th>
<th>增长率</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>高增长期</td>
<td>5-10 年</td>
<td>15-25%</td>
<td>市场扩张、竞争优势</td>
</tr>
<tr class="even">
<td>过渡期</td>
<td>5 年</td>
<td>递减至稳定</td>
<td>竞争加剧、增长放缓</td>
</tr>
<tr class="odd">
<td>稳定期</td>
<td>永续</td>
<td>2-4%</td>
<td>趋近经济增长率</td>
</tr>
</tbody>
</table>
</section>
<section id="案例airbnb-ipo-估值2020-年" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="案例airbnb-ipo-估值2020-年"><span class="header-section-number">9.3</span> 案例：Airbnb IPO 估值（2020 年）</h3>
<p>Airbnb 2020 年 IPO 时的增长估计展示了如何处理高增长公司：</p>
<p><strong>背景</strong>： - 2019 年收入：$48 亿 - 2020 年收入：$34 亿（COVID 影响） - 营业利润率：-5%（2019 年）</p>
<p><strong>假设</strong>： - 收入逐步恢复并超过 COVID 前水平 - 5 年后达到成熟期，营业利润率 25%（参考在线旅游平台） - Sales/Capital = 2.0（资产轻）</p>
<p><strong>增长路径</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>年份</th>
<th>收入增长</th>
<th>营业利润率</th>
<th>再投资需求</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>30%</td>
<td>5%</td>
<td>根据 Sales/Capital 计算</td>
</tr>
<tr class="even">
<td>2</td>
<td>25%</td>
<td>10%</td>
<td>…</td>
</tr>
<tr class="odd">
<td>3</td>
<td>20%</td>
<td>15%</td>
<td>…</td>
</tr>
<tr class="even">
<td>4</td>
<td>15%</td>
<td>20%</td>
<td>…</td>
</tr>
<tr class="odd">
<td>5+</td>
<td>10%→3%</td>
<td>25%</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>关键是保持<strong>内部一致性</strong>：更高的增长需要更多再投资，更高的利润率意味着更大的规模优势。</p>
</section>
</section>
<section id="增长的定性因素超越数字" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="增长的定性因素超越数字"><span class="header-section-number">10</span> 增长的定性因素：超越数字</h2>
<section id="为什么需要定性分析" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="为什么需要定性分析"><span class="header-section-number">10.1</span> 为什么需要定性分析</h3>
<p>到目前为止，我们讨论的都是<strong>定量方法</strong>——历史增长率、基本面公式、TAM/SAM 分析。但增长预测不能仅靠数字。</p>
<p>定性因素帮助我们判断： 1. 数字假设是否合理 2. 增长能否持续 3. 风险在哪里</p>
</section>
<section id="竞争优势的持久性" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="竞争优势的持久性"><span class="header-section-number">10.2</span> 竞争优势的持久性</h3>
<p>增长的可持续性取决于公司的<strong>护城河（Moat）</strong>是否能够持续。</p>
<p><strong>护城河的类型与持久性</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>护城河类型</th>
<th>说明</th>
<th>持久性</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>网络效应</strong></td>
<td>用户越多，价值越大</td>
<td>很高</td>
<td>微信、Visa</td>
</tr>
<tr class="even">
<td><strong>专利/技术</strong></td>
<td>法律保护的独占权</td>
<td>中等（有期限）</td>
<td>制药公司</td>
</tr>
<tr class="odd">
<td><strong>品牌</strong></td>
<td>消费者认知和信任</td>
<td>高（但需维护）</td>
<td>可口可乐、Apple</td>
</tr>
<tr class="even">
<td><strong>规模经济</strong></td>
<td>成本优势</td>
<td>中高</td>
<td>沃尔玛、亚马逊</td>
</tr>
<tr class="odd">
<td><strong>转换成本</strong></td>
<td>客户离开的成本</td>
<td>高</td>
<td>企业软件（SAP、Salesforce）</td>
</tr>
<tr class="even">
<td><strong>监管壁垒</strong></td>
<td>牌照、准入限制</td>
<td>高（但可能改变）</td>
<td>银行、电信</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">提示</span>护城河强度的检验
</div>
</div>
<div class="callout-body-container callout-body">
<p>问自己：<strong>如果一个资金充裕的竞争者进入这个市场，公司的市场份额会受到多大影响？</strong></p>
<ul>
<li>如果答案是”很大影响”——护城河较弱</li>
<li>如果答案是”有限影响”——护城河较强</li>
</ul>
<p>这个思考实验帮助你校准增长假设的合理性。</p>
</div>
</div>
</section>
<section id="管理层质量" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="管理层质量"><span class="header-section-number">10.3</span> 管理层质量</h3>
<p>管理层的能力和诚信直接影响增长的实现：</p>
<p><strong>评估维度</strong>：</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>维度</th>
<th>正面信号</th>
<th>负面信号</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>执行力</strong></td>
<td>过去目标达成率高</td>
<td>频繁下调指引</td>
</tr>
<tr class="even">
<td><strong>资本配置</strong></td>
<td>ROIC &gt; WACC 的投资记录</td>
<td>价值毁灭的并购</td>
</tr>
<tr class="odd">
<td><strong>激励一致</strong></td>
<td>管理层持股、长期激励</td>
<td>过度薪酬、短期激励</td>
</tr>
<tr class="even">
<td><strong>透明度</strong></td>
<td>主动披露坏消息</td>
<td>会计激进、信息不透明</td>
</tr>
<tr class="odd">
<td><strong>战略眼光</strong></td>
<td>提前布局新趋势</td>
<td>被动应对市场变化</td>
</tr>
</tbody>
</table>
</section>
<section id="行业生命周期" class="level3" data-number="10.4">
<h3 data-number="10.4" class="anchored" data-anchor-id="行业生命周期"><span class="header-section-number">10.4</span> 行业生命周期</h3>
<p>公司所处的行业生命周期阶段影响增长潜力：</p>
<pre><code>           ┌───────────────────────────────────────────┐
   增长率  │     成长期                                │
           │    ╱╲                                     │
           │   ╱  ╲     成熟期                        │
           │  ╱    ╲   ╱────────╲                     │
           │ ╱      ╲ ╱          ╲    衰退期          │
           │╱ 导入期 ╳            ╲   ╱────          │
           └───────────────────────────────────────────┘
                            时间</code></pre>
<table class="caption-top table">
<thead>
<tr class="header">
<th>阶段</th>
<th>增长特点</th>
<th>典型增长率</th>
<th>估值挑战</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>导入期</strong></td>
<td>高增长但不确定</td>
<td>50-100%+</td>
<td>生存风险高</td>
</tr>
<tr class="even">
<td><strong>成长期</strong></td>
<td>快速可持续增长</td>
<td>20-50%</td>
<td>竞争加剧时机</td>
</tr>
<tr class="odd">
<td><strong>成熟期</strong></td>
<td>稳定低增长</td>
<td>5-15%</td>
<td>被颠覆风险</td>
</tr>
<tr class="even">
<td><strong>衰退期</strong></td>
<td>负增长或零增长</td>
<td>0-5%</td>
<td>终值假设</td>
</tr>
</tbody>
</table>
</section>
<section id="宏观经济和监管环境" class="level3" data-number="10.5">
<h3 data-number="10.5" class="anchored" data-anchor-id="宏观经济和监管环境"><span class="header-section-number">10.5</span> 宏观经济和监管环境</h3>
<p>增长还受到公司控制之外因素的影响：</p>
<p><strong>宏观因素</strong>： - 经济周期：周期性行业的增长高度依赖经济周期 - 利率环境：影响融资成本和消费者支出 - 汇率波动：影响国际业务的增长</p>
<p><strong>监管因素</strong>： - 行业监管变化（如反垄断、数据隐私） - 税收政策变化 - 贸易政策（关税、制裁）</p>
</section>
<section id="将定性因素纳入估值" class="level3" data-number="10.6">
<h3 data-number="10.6" class="anchored" data-anchor-id="将定性因素纳入估值"><span class="header-section-number">10.6</span> 将定性因素纳入估值</h3>
<p>定性分析不是独立于定量分析，而是<strong>校准定量假设</strong>：</p>
<p><strong>示例：评估一家 SaaS 公司的增长假设</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>因素</th>
<th>评估</th>
<th>对增长假设的影响</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>竞争优势</td>
<td>转换成本高，但竞争激烈</td>
<td>稳定期增长率下调 0.5%</td>
</tr>
<tr class="even">
<td>管理层</td>
<td>历史执行力强</td>
<td>信任基本面增长预测</td>
</tr>
<tr class="odd">
<td>行业周期</td>
<td>仍在成长期</td>
<td>高增长期延长 1-2 年</td>
</tr>
<tr class="even">
<td>监管风险</td>
<td>数据隐私监管趋严</td>
<td>利润率假设下调 2%</td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">重要</span>定性分析的核心作用
</div>
</div>
<div class="callout-body-container callout-body">
<p>定性分析帮助回答一个关键问题：<strong>我对这个增长预测有多大信心？</strong></p>
<ul>
<li>如果定性因素支持数字假设：可以使用中性或乐观情景</li>
<li>如果定性因素与数字假设矛盾：需要下调假设或增加风险调整</li>
</ul>
<p>永远不要让数字独自说话。</p>
</div>
</div>
</section>
</section>
<section id="总结" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="总结"><span class="header-section-number">11</span> 总结</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">重要</span>核心要点
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><strong>增长的重要性与来源</strong>
<ul>
<li>公司价值 = 现有资产价值 + 增长资产价值</li>
<li>对高增长公司，增长假设的小变化会导致估值的大变化</li>
</ul></li>
<li><strong>历史增长不可靠</strong>
<ul>
<li>“Higgledy-Piggledy Growth”：历史与未来增长相关性接近零</li>
<li>原因：均值回归、规模效应、竞争侵蚀</li>
</ul></li>
<li><strong>分析师预测有偏差</strong>
<ul>
<li>系统性乐观，长期预测需打折 25-30%</li>
<li>短期（1 年）相对可靠，长期不可信</li>
<li>管理层指引需关注修正方向</li>
</ul></li>
<li><strong>基本面增长是核心</strong>
<ul>
<li>股权：<span class="math inline">\(g = \text{留存比率} \times \text{ROE}\)</span></li>
<li>公司：<span class="math inline">\(g = \text{再投资率} \times \text{ROIC}\)</span></li>
<li>ROE = ROIC + D/E × [ROIC - i(1-t)]——杠杆不创造价值</li>
</ul></li>
<li><strong>自上而下方法用于特殊情况</strong>
<ul>
<li>适用于亏损公司、转型公司</li>
<li>框架：TAM/SAM → 收入增长 → 利润率路径 → Sales/Capital → 再投资</li>
</ul></li>
<li><strong>定性因素不可忽视</strong>
<ul>
<li>护城河、管理层质量、行业周期、监管环境</li>
<li>用于校准定量假设的合理性</li>
</ul></li>
</ol>
</div>
</div>
<p>本章我们回答了开头提出的问题：增长从何而来？</p>
<p>答案是：<strong>增长来自再投资及其效率</strong>。</p>
<p><span class="math display">\[
g = \text{再投资} \times \text{回报率}
\]</span></p>
<p>这个简单的公式揭示了增长的本质——增长不是免费的，每一个百分点的增长都需要资本支撑。关键不在于预测数字有多精确，而在于理解驱动增长的<strong>机制</strong>。</p>
<p><code>✶ Insight ─────────────────────────────────────</code></p>
<p><strong>Damodaran 的核心洞察</strong>：</p>
<p>增长率估计不是选择一个”看起来合理”的数字。它应该是一个<strong>有约束的输出</strong>，受制于： 1. 公司愿意再投资多少 2. 公司的投资效率（ROIC） 3. 市场规模和竞争环境</p>
<p>当你看到一个增长率假设时，问自己：支撑这个增长需要多少再投资？公司的 ROIC 历史和行业竞争是否支持这个假设？</p>
<p>如果答案不一致，增长率就需要修正。</p>
<p><code>─────────────────────────────────────────────────</code></p>
</section>
<section id="思考题" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="思考题"><span class="header-section-number">12</span> 思考题</h2>
<ol type="1">
<li><p><strong>计算题</strong>：一家公司 ROE = 18%，分红比率 = 40%。如果这家公司希望实现 15% 的盈利增长，ROE 需要提高到多少？</p></li>
<li><p><strong>概念题</strong>：为什么 ROIC 通常低于 ROE？在什么情况下 ROIC 可能高于 ROE？</p></li>
<li><p><strong>判断题</strong>：一家公司宣布将削减资本支出，提高分红。市场对此反应正面，股价上涨。这意味着市场认为该公司的 ROIC 与资本成本相比如何？</p></li>
<li><p><strong>应用题</strong>：假设你要估值一家正在亏损但收入快速增长的 SaaS 公司。你会如何估计其增长率和再投资需求？</p></li>
<li><p><strong>批判题</strong>：基本面增长公式 <span class="math inline">\(g = \text{Reinvestment Rate} \times \text{ROIC}\)</span> 隐含了什么假设？这些假设在什么情况下可能不成立？</p></li>
</ol>


</section>

</main> <!-- /main -->
﻿<script>

// Simple EN / 中文 language toggle for posts; robust via meta[quarto:offset]

(function() {

  const KEY = 'siteLang'; // 'en' | 'zh'

  const defaultLang = 'en';

  const POSTS_EN = 'posts_en.html';

  const POSTS_ZH = 'posts_zh.html';

  const TAGS = 'tags.html';



  function currentLang() { try { return localStorage.getItem(KEY) || defaultLang; } catch(e) { return defaultLang; } }

  function setLang(v) { try { localStorage.setItem(KEY, v); } catch(e) {} }

  function offset() {

    const meta = document.querySelector('meta[name="quarto:offset"]');

    const off = meta && meta.getAttribute('content') ? meta.getAttribute('content') : './';

    return off;

  }

  function targetFor(lang) { return lang === 'zh' ? POSTS_ZH : POSTS_EN; }

  function goToLang(lang) {

    const off = offset();

    const path = window.location.pathname;

    setLang(lang);

    if (path.endsWith('/' + TAGS) || path.endsWith(TAGS)) {

      window.location.href = off + TAGS;

    } else {

      window.location.href = off + targetFor(lang);

    }

  }

  function updateNavbarPostsLink() {

    const off = offset();

    const href = off + targetFor(currentLang());

    const links = document.querySelectorAll('header .navbar a.nav-link');

    links.forEach((a) => {

      const h = a.getAttribute('href') || '';

      if (h.endsWith(POSTS_EN) || h.endsWith(POSTS_ZH)) a.setAttribute('href', href);

    });

  }

  function mountToggle() {

    const tools = document.querySelector('.quarto-navbar-tools');

    if (!tools) return;

    const wrapper = document.createElement('div');

    wrapper.style.display = 'inline-flex';

    wrapper.style.alignItems = 'center';

    wrapper.style.gap = '0.35rem';

    wrapper.style.marginLeft = '0.35rem';



    const en = document.createElement('a');

    en.href = '';

    en.textContent = 'EN';

    en.className = 'quarto-navigation-tool px-1';

    en.onclick = function(){ goToLang('en'); return false; };



    const sep = document.createElement('span');

    sep.textContent = '|';

    sep.style.opacity = '0.6';



    const zh = document.createElement('a');

    zh.href = '';

    zh.textContent = '中文';

    zh.className = 'quarto-navigation-tool px-1';

    zh.onclick = function(){ goToLang('zh'); return false; };



    const lang = currentLang();

    (lang === 'en' ? en : zh).style.fontWeight = '700';



    wrapper.appendChild(en);

    wrapper.appendChild(sep);

    wrapper.appendChild(zh);

    tools.appendChild(wrapper);

    updateNavbarPostsLink();

  }

  document.addEventListener('DOMContentLoaded', mountToggle);

})();

</script>

<script>

(function(){

  function offset(){

    var meta = document.querySelector('meta[name="quarto:offset"]');

    return meta && meta.getAttribute('content') ? meta.getAttribute('content') : './';

  }

  document.addEventListener('DOMContentLoaded', function(){

    var brand = document.querySelector('header .navbar a.navbar-brand');

    if (brand) {

      brand.setAttribute('href', offset() + 'home.html');

    }

  });

})();

</script>



<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "已复制");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "已复制");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>